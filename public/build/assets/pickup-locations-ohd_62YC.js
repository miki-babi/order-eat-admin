import{c as fe,r as ue,a as xe,j as s,H as be,b as je}from"./app-urWZCOB2.js";import{I as B}from"./input-error-Bfp2neNp.js";import{B as ve}from"./badge-ivshO5Rm.js";import{b as Ne,B as $}from"./createLucideIcon-DXP1NL2b.js";import{d as R,a as pe,b as ge,C as T}from"./card-DGp7xlzc.js";import{I as A}from"./input-B-wpWUNP.js";import{L as c}from"./label-DDx8vBlc.js";import{A as _e}from"./app-layout-DpIAubu9.js";import{M as ie}from"./map-pin-CupXPNIm.js";import{T as ke}from"./trash-2-B-YrFlrE.js";/* empty css            */import"./index-B5aHAMyi.js";import"./index-17Sva1XX.js";import"./index-CSuq00VY.js";import"./app-logo-icon-D5xcTX2w.js";import"./external-link-B8Fa0ogm.js";const ye=[["path",{d:"M19.914 11.105A7.298 7.298 0 0 0 20 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 1.202 0 32 32 0 0 0 .824-.738",key:"fcdtly"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M16 18h6",key:"987eiv"}],["path",{d:"M19 15v6",key:"10aioa"}]],me=Ne("MapPinPlus",ye),ze=[{title:"Pickup Locations",href:"/staff/pickup-locations"}];function Oe(H){const e=fe.c(96),{locations:re,summary:n}=H,[r,ce]=ue.useState(null);let G;e[0]===Symbol.for("react.memo_cache_sentinel")?(G={name:"",address:"",google_maps_url:"",is_active:!0},e[0]=G):G=e[0];const t=xe(G);let O;e[1]===Symbol.for("react.memo_cache_sentinel")?(O={name:"",address:"",google_maps_url:"",is_active:!0},e[1]=O):O=e[1];const l=xe(O);let U;e[2]!==l?(U=a=>{ce(a),l.setData({name:a.name,address:a.address,google_maps_url:a.google_maps_url??"",is_active:a.is_active})},e[2]=l,e[3]=U):U=e[3];const I=U;let q;e[4]!==t?(q=a=>{a.preventDefault(),t.post("/staff/pickup-locations",{preserveScroll:!0,onSuccess:()=>{t.reset(),t.setData("google_maps_url",""),t.setData("is_active",!0)}})},e[4]=t,e[5]=q):q=e[5];const ne=q;let J;e[6]!==l||e[7]!==r?(J=a=>{a.preventDefault(),r&&l.put(`/staff/pickup-locations/${r.id}`,{preserveScroll:!0,onSuccess:()=>{ce(null)}})},e[6]=l,e[7]=r,e[8]=J):J=e[8];const oe=J,he=Ce;let K;e[9]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsx(be,{title:"Pickup Locations"}),e[9]=K):K=e[9];let Q;e[10]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-[#9E9E9E]",children:"Total Locations"}),e[10]=Q):Q=e[10];let o;e[11]!==n.total_locations?(o=s.jsxs("div",{children:[Q,s.jsx("h3",{className:"mt-2 text-3xl font-black text-[#212121]",children:n.total_locations})]}),e[11]=n.total_locations,e[12]=o):o=e[12];let V;e[13]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsx("div",{className:"rounded-2xl bg-zinc-100 p-3 text-zinc-500",children:s.jsx(ie,{className:"size-6"})}),e[13]=V):V=e[13];let d;e[14]!==o?(d=s.jsx(R,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:s.jsx(T,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[o,V]})})}),e[14]=o,e[15]=d):d=e[15];let W;e[16]===Symbol.for("react.memo_cache_sentinel")?(W=s.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-[#F57C00]",children:"Active Distribution"}),e[16]=W):W=e[16];let m;e[17]!==n.active_locations?(m=s.jsxs("div",{children:[W,s.jsx("h3",{className:"mt-2 text-3xl font-black text-[#212121]",children:n.active_locations})]}),e[17]=n.active_locations,e[18]=m):m=e[18];let X;e[19]===Symbol.for("react.memo_cache_sentinel")?(X=s.jsx("div",{className:"rounded-2xl bg-[#F57C00]/10 p-3 text-[#F57C00]",children:s.jsx(me,{className:"size-6"})}),e[19]=X):X=e[19];let x;e[20]!==m?(x=s.jsx(R,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:s.jsx(T,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[m,X]})})}),e[20]=m,e[21]=x):x=e[21];let p;e[22]!==d||e[23]!==x?(p=s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[d,x]}),e[22]=d,e[23]=x,e[24]=p):p=e[24];let Y;e[25]===Symbol.for("react.memo_cache_sentinel")?(Y=s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("h2",{className:"flex items-center gap-2 text-lg font-black uppercase tracking-widest text-[#212121]",children:[s.jsx(ie,{className:"size-5 text-[#F57C00]"}),"Location Directory"]})}),e[25]=Y):Y=e[25];let g;if(e[26]!==re||e[27]!==I){let a;e[29]!==I?(a=i=>s.jsxs(R,{className:"relative overflow-hidden border-none shadow-md ring-1 ring-zinc-200 transition-all hover:ring-[2px] hover:ring-[#F57C00]/20",children:[s.jsx("div",{className:`absolute top-0 right-0 h-1.5 w-full ${i.is_active?"bg-emerald-500":"bg-zinc-300"}`}),s.jsx(T,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xl font-black text-[#212121]",children:i.name}),s.jsx(ve,{className:`mt-1.5 rounded-lg px-2 py-0.5 text-[9px] font-black uppercase tracking-widest ${i.is_active?"bg-emerald-50 text-emerald-600 ring-1 ring-emerald-200":"bg-zinc-100 text-zinc-500 ring-1 ring-zinc-200"} shadow-none`,children:i.is_active?"Distribution Active":"Distribution Inactive"})]}),s.jsx("div",{className:"rounded-xl bg-zinc-50 p-2 text-zinc-400",children:s.jsx(ie,{className:"size-5"})})]}),s.jsxs("div",{className:"mt-6 flex-1",children:[s.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400",children:"Main Hub"}),s.jsx("p",{className:"mt-1 line-clamp-2 text-xs font-bold leading-relaxed text-zinc-600",children:i.address}),i.google_maps_url&&s.jsxs("a",{href:i.google_maps_url,target:"_blank",rel:"noreferrer",className:"mt-2 inline-flex items-center gap-1.5 text-xs font-black text-[#F57C00] hover:underline",children:[s.jsx(ie,{className:"size-3"}),"Pin on Digital Maps"]})]}),s.jsxs("div",{className:"mt-8 flex items-center justify-between border-t border-zinc-100 pt-5",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[9px] font-black uppercase tracking-tighter text-zinc-400",children:"Total Serviced"}),s.jsxs("span",{className:"text-sm font-black text-[#212121]",children:[i.orders_count," Orders"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($,{type:"button",size:"sm",variant:"ghost",className:"h-9 rounded-xl font-bold transition-all hover:bg-[#F57C00]/10 hover:text-[#F57C00]",onClick:()=>I(i),children:"Edit"}),s.jsx($,{type:"button",size:"sm",variant:"ghost",className:"h-9 rounded-xl font-bold text-rose-500 transition-all hover:bg-rose-50 hover:text-rose-600",onClick:()=>he(i),children:s.jsx(ke,{className:"size-4"})})]})]})]})})]},i.id),e[29]=I,e[30]=a):a=e[30],g=re.map(a),e[26]=re,e[27]=I,e[28]=g}else g=e[28];let h;e[31]!==g?(h=s.jsxs("div",{className:"space-y-4",children:[Y,s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:g})]}),e[31]=g,e[32]=h):h=e[32];let Z;e[33]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(pe,{className:"border-b border-zinc-100 bg-zinc-50/50 py-4",children:s.jsxs(ge,{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest text-[#212121]",children:[s.jsx(me,{className:"size-4 text-[#F57C00]"}),"Register New Pickup Point"]})}),e[33]=Z):Z=e[33];let ee;e[34]===Symbol.for("react.memo_cache_sentinel")?(ee=s.jsx(c,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",htmlFor:"name",children:"Branch Name"}),e[34]=ee):ee=e[34];let f;e[35]!==t?(f=a=>t.setData("name",a.target.value),e[35]=t,e[36]=f):f=e[36];let u;e[37]!==t.data.name||e[38]!==f?(u=s.jsx(A,{id:"name",className:"h-11 rounded-xl border-zinc-200 focus:ring-[#F57C00] transition-all",value:t.data.name,onChange:f,placeholder:"e.g. Bole Branch"}),e[37]=t.data.name,e[38]=f,e[39]=u):u=e[39];let b;e[40]!==t.errors.name?(b=s.jsx(B,{message:t.errors.name}),e[40]=t.errors.name,e[41]=b):b=e[41];let j;e[42]!==u||e[43]!==b?(j=s.jsxs("div",{className:"grid gap-2",children:[ee,u,b]}),e[42]=u,e[43]=b,e[44]=j):j=e[44];let se;e[45]===Symbol.for("react.memo_cache_sentinel")?(se=s.jsx(c,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",htmlFor:"address",children:"Physical Address"}),e[45]=se):se=e[45];let v;e[46]!==t?(v=a=>t.setData("address",a.target.value),e[46]=t,e[47]=v):v=e[47];let N;e[48]!==t.data.address||e[49]!==v?(N=s.jsx(A,{id:"address",className:"h-11 rounded-xl border-zinc-200 focus:ring-[#F57C00] transition-all",value:t.data.address,onChange:v,placeholder:"Street, Building, Flat number..."}),e[48]=t.data.address,e[49]=v,e[50]=N):N=e[50];let _;e[51]!==t.errors.address?(_=s.jsx(B,{message:t.errors.address}),e[51]=t.errors.address,e[52]=_):_=e[52];let k;e[53]!==N||e[54]!==_?(k=s.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[se,N,_]}),e[53]=N,e[54]=_,e[55]=k):k=e[55];let te;e[56]===Symbol.for("react.memo_cache_sentinel")?(te=s.jsx(c,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",htmlFor:"google_maps_url",children:"Google Maps URL (Optional)"}),e[56]=te):te=e[56];let y;e[57]!==t?(y=a=>t.setData("google_maps_url",a.target.value),e[57]=t,e[58]=y):y=e[58];let z;e[59]!==t.data.google_maps_url||e[60]!==y?(z=s.jsx(A,{id:"google_maps_url",className:"h-11 rounded-xl border-zinc-200 focus:ring-[#F57C00] transition-all",value:t.data.google_maps_url,onChange:y,placeholder:"https://maps.google.com/..."}),e[59]=t.data.google_maps_url,e[60]=y,e[61]=z):z=e[61];let C;e[62]!==t.errors.google_maps_url?(C=s.jsx(B,{message:t.errors.google_maps_url}),e[62]=t.errors.google_maps_url,e[63]=C):C=e[63];let w;e[64]!==z||e[65]!==C?(w=s.jsxs("div",{className:"grid gap-2 md:col-span-3",children:[te,z,C]}),e[64]=z,e[65]=C,e[66]=w):w=e[66];let F;e[67]!==t?(F=a=>t.setData("is_active",a.target.checked),e[67]=t,e[68]=F):F=e[68];let E;e[69]!==t.data.is_active||e[70]!==F?(E=s.jsx("input",{type:"checkbox",id:"is_active",className:"h-4 w-4 rounded border-zinc-300 text-[#F57C00] focus:ring-[#F57C00]/20",checked:t.data.is_active,onChange:F}),e[69]=t.data.is_active,e[70]=F,e[71]=E):E=e[71];let ae;e[72]===Symbol.for("react.memo_cache_sentinel")?(ae=s.jsx(c,{htmlFor:"is_active",className:"cursor-pointer text-xs font-bold text-zinc-600",children:"Active Location"}),e[72]=ae):ae=e[72];let S;e[73]!==E?(S=s.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-zinc-50 px-4 py-2 ring-1 ring-zinc-200",children:[E,ae]}),e[73]=E,e[74]=S):S=e[74];const de=t.processing?"Saving...":"Create Location";let D;e[75]!==t.processing||e[76]!==de?(D=s.jsx($,{type:"submit",className:"h-11 px-8 ml-auto rounded-xl bg-[#F57C00] font-black shadow-lg shadow-[#F57C00]/20 hover:bg-[#E65100]",disabled:t.processing,children:de}),e[75]=t.processing,e[76]=de,e[77]=D):D=e[77];let L;e[78]!==S||e[79]!==D?(L=s.jsxs("div",{className:"flex items-center gap-2 md:col-span-3",children:[S,D]}),e[78]=S,e[79]=D,e[80]=L):L=e[80];let M;e[81]!==ne||e[82]!==j||e[83]!==k||e[84]!==w||e[85]!==L?(M=s.jsxs(R,{className:"border-none shadow-md ring-1 ring-zinc-200",children:[Z,s.jsx(T,{className:"pt-6",children:s.jsxs("form",{className:"grid gap-6 md:grid-cols-3",onSubmit:ne,children:[j,k,w,L]})})]}),e[81]=ne,e[82]=j,e[83]=k,e[84]=w,e[85]=L,e[86]=M):M=e[86];let P;e[87]!==l||e[88]!==r||e[89]!==oe?(P=r?s.jsxs(R,{className:"border-none shadow-xl ring-2 ring-[#212121]",children:[s.jsx(pe,{className:"border-b border-zinc-100 bg-[#212121] py-4 text-white",children:s.jsxs(ge,{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest",children:[s.jsx(me,{className:"size-4 text-[#F57C00]"}),"Modify Branch: ",r.name]})}),s.jsx(T,{className:"pt-6",children:s.jsxs("form",{className:"grid gap-6 md:grid-cols-3",onSubmit:oe,children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(c,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",htmlFor:"edit-name",children:"Branch Name"}),s.jsx(A,{id:"edit-name",className:"h-11 rounded-xl border-zinc-200 focus:ring-[#F57C00] transition-all",value:l.data.name,onChange:a=>l.setData("name",a.target.value)}),s.jsx(B,{message:l.errors.name})]}),s.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[s.jsx(c,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",htmlFor:"edit-address",children:"Physical Address"}),s.jsx(A,{id:"edit-address",className:"h-11 rounded-xl border-zinc-200 focus:ring-[#F57C00] transition-all",value:l.data.address,onChange:a=>l.setData("address",a.target.value)}),s.jsx(B,{message:l.errors.address})]}),s.jsxs("div",{className:"grid gap-2 md:col-span-3",children:[s.jsx(c,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",htmlFor:"edit-google-maps-url",children:"Google Maps URL"}),s.jsx(A,{id:"edit-google-maps-url",className:"h-11 rounded-xl border-zinc-200 focus:ring-[#F57C00] transition-all",value:l.data.google_maps_url,onChange:a=>l.setData("google_maps_url",a.target.value)}),s.jsx(B,{message:l.errors.google_maps_url})]}),s.jsxs("div",{className:"flex items-center gap-2 md:col-span-3",children:[s.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-zinc-50 px-4 py-2 ring-1 ring-zinc-200",children:[s.jsx("input",{type:"checkbox",id:"edit_is_active",className:"h-4 w-4 rounded border-zinc-300 text-[#F57C00] focus:ring-[#F57C00]/20",checked:l.data.is_active,onChange:a=>l.setData("is_active",a.target.checked)}),s.jsx(c,{htmlFor:"edit_is_active",className:"cursor-pointer text-xs font-bold text-zinc-600",children:"Active Location"})]}),s.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[s.jsx($,{type:"button",variant:"outline",className:"h-11 rounded-xl font-bold",onClick:()=>ce(null),children:"Discard Changes"}),s.jsx($,{type:"submit",className:"h-11 px-8 rounded-xl bg-[#F57C00] font-black shadow-lg shadow-[#F57C00]/20 hover:bg-[#E65100]",disabled:l.processing,children:"Save Modifications"})]})]})]})})]}):null,e[87]=l,e[88]=r,e[89]=oe,e[90]=P):P=e[90];let le;return e[91]!==p||e[92]!==h||e[93]!==M||e[94]!==P?(le=s.jsxs(_e,{breadcrumbs:ze,children:[K,s.jsxs("div",{className:"space-y-8 bg-zinc-50/50 p-6 min-h-screen",children:[p,h,M,P]})]}),e[91]=p,e[92]=h,e[93]=M,e[94]=P,e[95]=le):le=e[95],le}function Ce(H){window.confirm(`Delete or deactivate "${H.name}"?`)&&je.delete(`/staff/pickup-locations/${H.id}`,{preserveScroll:!0})}export{Oe as default};
