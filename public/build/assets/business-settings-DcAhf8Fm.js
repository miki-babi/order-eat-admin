import{c as Z,u as G,r as W,a as J,j as s,H as K}from"./app-B1ifENt7.js";import{I as n}from"./input-error-idKhxiu_.js";import{b as x,B as h}from"./createLucideIcon-DBjBHpes.js";import{d as _,a as D,b as S,C as b}from"./card-DUXOF7wf.js";import{I as l}from"./input-ZZWHhI5M.js";import{L as r}from"./label-CvzI8C74.js";import{A as Q}from"./app-layout-BaTFaLhf.js";import{P as ee}from"./phone-z0qs20aY.js";import{M as se}from"./mail-i1yIYpzQ.js";import{M as ae}from"./map-pin-CMaCX4Sl.js";/* empty css            */import"./index-D62cbb27.js";import"./index-CFPRdl_O.js";import"./index-CmpwTNNW.js";import"./x-DG3YsQOQ.js";import"./index-BuAWgm97.js";import"./index-C8o9R0tm.js";import"./store-PGPmctu0.js";import"./users-ClLoEKCw.js";import"./chevron-right-BOcL-KTG.js";const te=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],ie=x("Bold",te);const ne=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],re=x("Building2",ne);const oe=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],ce=x("Italic",oe);const le=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],de=x("Link2",le);const me=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],he=x("ListOrdered",me);const xe=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],pe=x("List",xe);const ue=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],ge=x("Underline",ue),je=[{title:"Business Settings",href:"/staff/business-settings"}];function Xe(Y){const e=Z.c(43),{settings:i,canManageSettings:p}=Y,{flash:c}=G().props,d=W.useRef(null),E=i.business_name??"",H=i.description??"",I=i.contact_phone??"",T=i.contact_email??"",X=i.contact_address??"",$=i.social_facebook??"",q=i.social_instagram??"",R=i.social_tiktok??"",A=i.social_telegram??"",P=i.social_x??"";let k;e[0]!==E||e[1]!==P||e[2]!==H||e[3]!==I||e[4]!==T||e[5]!==X||e[6]!==$||e[7]!==q||e[8]!==R||e[9]!==A?(k={_method:"patch",business_name:E,description:H,contact_phone:I,contact_email:T,contact_address:X,social_facebook:$,social_instagram:q,social_tiktok:R,social_telegram:A,social_x:P},e[0]=E,e[1]=P,e[2]=H,e[3]=I,e[4]=T,e[5]=X,e[6]=$,e[7]=q,e[8]=R,e[9]=A,e[10]=k):k=e[10];const a=J(k);let y,N;e[11]!==i.description?(y=()=>{d.current&&(d.current.innerHTML=i.description??"")},N=[i.description],e[11]=i.description,e[12]=y,e[13]=N):(y=e[12],N=e[13]),W.useEffect(y,N);let v;e[14]!==a?(v=()=>{a.setData("description",d.current?.innerHTML??"")},e[14]=a,e[15]=v):v=e[15];const o=v;let z;e[16]!==o?(z=t=>{d.current?.focus(),document.execCommand(t,!1),o()},e[16]=o,e[17]=z):z=e[17];const m=z;let M;e[18]!==o?(M=()=>{const t=window.prompt("Enter URL (https://...)");!t||t.trim()===""||(d.current?.focus(),document.execCommand("createLink",!1,t.trim()),o())},e[18]=o,e[19]=M):M=e[19];const U=M;let C;e[20]!==a?(C=t=>{t.preventDefault(),a.transform(V=>({...V,description:d.current?.innerHTML??V.description})),a.post("/staff/business-settings",{preserveScroll:!0})},e[20]=a,e[21]=C):C=e[21];const O=C;let L;e[22]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx(K,{title:"Business Settings"}),e[22]=L):L=e[22];let w;e[23]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(D,{children:s.jsxs(S,{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest text-zinc-700",children:[s.jsx(re,{className:"size-4 text-[#F57C00]"}),"Admin Business Settings"]})}),e[23]=w):w=e[23];let F;e[24]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsxs(_,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:[w,s.jsx(b,{children:s.jsx("p",{className:"text-sm text-zinc-600",children:"Configure your business identity for customer-facing experiences."})})]}),e[24]=F):F=e[24];let u;e[25]!==c?(u=c?.success&&s.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm font-semibold text-emerald-700",children:c.success}),e[25]=c,e[26]=u):u=e[26];let g;e[27]!==c?(g=c?.error&&s.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm font-semibold text-red-700",children:c.error}),e[27]=c,e[28]=g):g=e[28];let j;e[29]!==p?(j=!p&&s.jsx(_,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:s.jsx(b,{className:"pt-6",children:s.jsx("p",{className:"text-sm font-semibold text-zinc-700",children:"You do not have permission to manage business settings."})})}),e[29]=p,e[30]=j):j=e[30];let f;e[31]!==m||e[32]!==p||e[33]!==U||e[34]!==a||e[35]!==O||e[36]!==o?(f=p&&s.jsxs("form",{className:"space-y-6",onSubmit:O,children:[s.jsxs(_,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:[s.jsx(D,{children:s.jsx(S,{className:"text-sm font-black uppercase tracking-widest text-zinc-700",children:"Brand"})}),s.jsxs(b,{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(r,{htmlFor:"business_name",children:"Business Name"}),s.jsx(l,{id:"business_name",value:a.data.business_name,onChange:t=>a.setData("business_name",t.target.value),placeholder:"Your business name"}),s.jsx(n,{message:a.errors.business_name})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(r,{children:"Business Description (Rich Text)"}),s.jsxs("div",{className:"rounded-xl border border-zinc-200 bg-white",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-zinc-200 bg-zinc-50 px-3 py-2",children:[s.jsx(h,{type:"button",variant:"outline",className:"h-8 rounded-lg px-2",onClick:()=>m("bold"),children:s.jsx(ie,{className:"size-4"})}),s.jsx(h,{type:"button",variant:"outline",className:"h-8 rounded-lg px-2",onClick:()=>m("italic"),children:s.jsx(ce,{className:"size-4"})}),s.jsx(h,{type:"button",variant:"outline",className:"h-8 rounded-lg px-2",onClick:()=>m("underline"),children:s.jsx(ge,{className:"size-4"})}),s.jsx(h,{type:"button",variant:"outline",className:"h-8 rounded-lg px-2",onClick:()=>m("insertUnorderedList"),children:s.jsx(pe,{className:"size-4"})}),s.jsx(h,{type:"button",variant:"outline",className:"h-8 rounded-lg px-2",onClick:()=>m("insertOrderedList"),children:s.jsx(he,{className:"size-4"})}),s.jsx(h,{type:"button",variant:"outline",className:"h-8 rounded-lg px-2",onClick:U,children:s.jsx(de,{className:"size-4"})})]}),s.jsx("div",{ref:d,contentEditable:!0,onInput:o,className:"min-h-44 rounded-b-xl px-3 py-3 text-sm text-zinc-800 focus:outline-none","data-placeholder":"Write your business story, specialties, and highlights...",suppressContentEditableWarning:!0})]}),s.jsx("p",{className:"text-xs text-zinc-500",children:"Use bold, italic, underline, lists, and links for a better customer-facing description."}),s.jsx(n,{message:a.errors.description})]})]})]}),s.jsxs(_,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:[s.jsx(D,{children:s.jsx(S,{className:"text-sm font-black uppercase tracking-widest text-zinc-700",children:"Social Media"})}),s.jsxs(b,{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(r,{htmlFor:"social_facebook",children:"Facebook"}),s.jsx(l,{id:"social_facebook",value:a.data.social_facebook,onChange:t=>a.setData("social_facebook",t.target.value),placeholder:"facebook.com/your-page or @your-page"}),s.jsx(n,{message:a.errors.social_facebook})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(r,{htmlFor:"social_instagram",children:"Instagram"}),s.jsx(l,{id:"social_instagram",value:a.data.social_instagram,onChange:t=>a.setData("social_instagram",t.target.value),placeholder:"instagram.com/your-handle or @your-handle"}),s.jsx(n,{message:a.errors.social_instagram})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(r,{htmlFor:"social_tiktok",children:"TikTok"}),s.jsx(l,{id:"social_tiktok",value:a.data.social_tiktok,onChange:t=>a.setData("social_tiktok",t.target.value),placeholder:"tiktok.com/@your-handle"}),s.jsx(n,{message:a.errors.social_tiktok})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(r,{htmlFor:"social_telegram",children:"Telegram"}),s.jsx(l,{id:"social_telegram",value:a.data.social_telegram,onChange:t=>a.setData("social_telegram",t.target.value),placeholder:"t.me/your-channel or @your-channel"}),s.jsx(n,{message:a.errors.social_telegram})]}),s.jsxs("div",{className:"grid gap-2 md:col-span-2",children:[s.jsx(r,{htmlFor:"social_x",children:"X (Twitter)"}),s.jsx(l,{id:"social_x",value:a.data.social_x,onChange:t=>a.setData("social_x",t.target.value),placeholder:"x.com/your-handle or @your-handle"}),s.jsx(n,{message:a.errors.social_x})]})]})]}),s.jsxs(_,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:[s.jsx(D,{children:s.jsx(S,{className:"text-sm font-black uppercase tracking-widest text-zinc-700",children:"Contact Details"})}),s.jsxs(b,{className:"grid gap-4",children:[s.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(r,{htmlFor:"contact_phone",className:"flex items-center gap-2",children:[s.jsx(ee,{className:"size-4 text-zinc-500"}),"Phone"]}),s.jsx(l,{id:"contact_phone",value:a.data.contact_phone,onChange:t=>a.setData("contact_phone",t.target.value),placeholder:"+2519XXXXXXXX"}),s.jsx(n,{message:a.errors.contact_phone})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(r,{htmlFor:"contact_email",className:"flex items-center gap-2",children:[s.jsx(se,{className:"size-4 text-zinc-500"}),"Email"]}),s.jsx(l,{id:"contact_email",type:"email",value:a.data.contact_email,onChange:t=>a.setData("contact_email",t.target.value),placeholder:"hello@business.com"}),s.jsx(n,{message:a.errors.contact_email})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs(r,{htmlFor:"contact_address",className:"flex items-center gap-2",children:[s.jsx(ae,{className:"size-4 text-zinc-500"}),"Address"]}),s.jsx("textarea",{id:"contact_address",rows:4,value:a.data.contact_address,onChange:t=>a.setData("contact_address",t.target.value),className:"w-full rounded-xl border border-zinc-200 px-3 py-2 text-sm focus:border-[#F57C00] focus:outline-none focus:ring-2 focus:ring-[#F57C00]/15",placeholder:"Branch or business address"}),s.jsx(n,{message:a.errors.contact_address})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(h,{type:"submit",className:"rounded-xl bg-[#F57C00] text-white hover:bg-[#E65100]",disabled:a.processing,children:a.processing?"Saving...":"Save Settings"})})]}),e[31]=m,e[32]=p,e[33]=U,e[34]=a,e[35]=O,e[36]=o,e[37]=f):f=e[37];let B;return e[38]!==u||e[39]!==g||e[40]!==j||e[41]!==f?(B=s.jsxs(Q,{breadcrumbs:je,children:[L,s.jsxs("div",{className:"space-y-6 bg-zinc-50/50 p-6",children:[F,u,g,j,f]})]}),e[38]=u,e[39]=g,e[40]=j,e[41]=f,e[42]=B):B=e[42],B}export{Xe as default};
