import{c as Oe,u as Ie,r as Ne,a as Le,j as t,H as qe}from"./app-urWZCOB2.js";import{I as te}from"./input-error-Bfp2neNp.js";import{b as Re,B as le}from"./createLucideIcon-DXP1NL2b.js";import{I as ve}from"./input-B-wpWUNP.js";import{L as we}from"./label-DDx8vBlc.js";import{C as Ae}from"./circle-check-D3nhocRF.js";import{S as De}from"./search-CEFw_4K2.js";import{A as $e}from"./arrow-right-CnZ_Gm2v.js";import{M as Xe}from"./map-pin-CupXPNIm.js";import{E as Ue}from"./external-link-B8Fa0ogm.js";import{U as He}from"./upload-CWOGAKo5.js";import{C as We}from"./clock-3-C0UEmH_O.js";/* empty css            */import"./index-B5aHAMyi.js";const Ye=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],ne=Re("ShoppingCart",Ye),Ge=["1. Browse Menu","2. Review Cart","3. Pickup Details","4. Receipt Upload"];function Pe(){const i=new Date;return new Date(i.getTime()-i.getTimezoneOffset()*6e4).toISOString().slice(0,10)}function se(i){return new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",maximumFractionDigits:2}).format(i)}function wt(i){const e=Oe.c(138),{menuItems:C,categories:ae,pickupLocations:g,filters:_e}=i,{auth:Be,flash:h}=Ie().props,[l,k]=Ne.useState(1),[p,Me]=Ne.useState(_e.search??""),[d,Se]=Ne.useState(_e.category??"all");let re;e[0]===Symbol.for("react.memo_cache_sentinel")?(re={},e[0]=re):re=e[0];const[c,Te]=Ne.useState(re),ye=Be?.user?.name??"";let ce;e[1]===Symbol.for("react.memo_cache_sentinel")?(ce=Pe(),e[1]=ce):ce=e[1];const ke=g[0]?.id??"";let oe;e[2]!==ye||e[3]!==ke?(oe={name:ye,phone:"",pickup_date:ce,pickup_location_id:ke,notify_when_ready:!1,receipt:null},e[2]=ye,e[3]=ke,e[4]=oe):oe=e[4];const a=Le(oe);let de;e[5]!==C?(de=C.reduce(rt,{}),e[5]=C,e[6]=de):de=e[6];const Fe=de;let me;if(e[7]!==d||e[8]!==C||e[9]!==p){let f;e[11]!==d||e[12]!==p?(f=m=>{const x=d==="all"||(m.category??"Uncategorized")===d,o=p.toLowerCase(),ie=!o||m.name.toLowerCase().includes(o)||(m.description??"").toLowerCase().includes(o)||(m.category??"").toLowerCase().includes(o);return x&&ie},e[11]=d,e[12]=p,e[13]=f):f=e[13],me=C.filter(f),e[7]=d,e[8]=C,e[9]=p,e[10]=me}else me=e[10];const z=me;let E;e[14]!==c?(E=Object.entries(c),e[14]=c,e[15]=E):E=e[15];let xe;e[16]!==Fe||e[17]!==E?(xe=E.map(f=>{const[m,x]=f,o=Fe[Number(m)];return!o||x<1?null:{...o,quantity:x,lineTotal:o.price*x}}).filter(nt),e[16]=Fe,e[17]=E,e[18]=xe):xe=e[18];const n=xe,u=n.reduce(lt,0);let _,S,A,b,D,P,B,j,M,N,T,v,w;if(e[19]!==d||e[20]!==c||e[21]!==u||e[22]!==n||e[23]!==ae||e[24]!==z||e[25]!==h||e[26]!==a||e[27]!==g||e[28]!==p||e[29]!==l){const f=n.reduce(it,0);let m;e[43]===Symbol.for("react.memo_cache_sentinel")?(m=(s,y)=>{Te(r=>{const ee={...r};return y<=0?delete ee[s]:ee[s]=y,ee})},e[43]=m):m=e[43];const x=m;let o;e[44]!==a.data.name||e[45]!==a.data.phone||e[46]!==a.data.pickup_date||e[47]!==a.data.pickup_location_id?(o=a.data.name.trim()&&a.data.phone.trim()&&a.data.pickup_date&&a.data.pickup_location_id,e[44]=a.data.name,e[45]=a.data.phone,e[46]=a.data.pickup_date,e[47]=a.data.pickup_location_id,e[48]=o):o=e[48];const ie=o;let ge;e[49]!==a.data.pickup_location_id||e[50]!==g?(ge=g.find(s=>s.id===a.data.pickup_location_id)??null,e[49]=a.data.pickup_location_id,e[50]=g,e[51]=ge):ge=e[51];const F=ge,Ce=()=>{const s=n.map(at),y={...a.data,items:s,receipt:a.data.receipt?{name:a.data.receipt.name,size:a.data.receipt.size,type:a.data.receipt.type}:null};console.groupCollapsed("[Order Submit] attempt"),console.log("step",l),console.log("cartCount",u),console.log("cartTotal",f),console.log("payload",y),console.groupEnd(),a.transform(r=>({...r,items:s})),a.post("/orders",{forceFormData:!0,preserveScroll:!0,onStart:st,onProgress:tt,onSuccess:et,onError:r=>{if(console.error("[Order Submit] validation or server error",r),r.items){k(2);return}if(r.receipt){k(4);return}(r.name||r.phone||r.pickup_date||r.pickup_location_id)&&k(3)},onFinish:Ze})};e[52]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(qe,{title:"Cafe Menu"}),e[52]=w):w=e[52],T="min-h-screen bg-[#FAFAFA] text-[#212121]",e[53]!==u||e[54]!==l?(v=l===1&&u>0&&t.jsx("button",{onClick:()=>{k(2),window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-24 right-6 z-[60] flex h-16 w-16 items-center justify-center rounded-full bg-[#212121] text-white shadow-[0_20px_50px_rgba(0,0,0,0.3)] ring-4 ring-white transition-all cursor-pointer hover:scale-110 active:scale-95 md:bottom-12 md:right-12",children:t.jsxs("div",{className:"relative",children:[t.jsx(ne,{className:"size-7"}),t.jsx("span",{className:"absolute -top-3 -right-3 flex h-6 w-6 items-center justify-center rounded-full bg-[#F57C00] text-[11px] font-black text-white shadow-md ring-2 ring-white animate-in zoom-in-50 duration-300",children:u})]})}),e[53]=u,e[54]=l,e[55]=v):v=e[55],M="mx-auto w-full max-w-7xl px-4 py-8 md:px-8 pb-32 md:pb-12";let U;e[56]!==l?(U=Ge.map((s,y)=>{const r=l===y+1,ee=l>y+1;return t.jsxs("div",{className:`flex flex-1 items-center justify-center rounded-xl px-2 py-2.5 transition-all duration-500 md:px-4 md:py-3 ${r?"bg-[#FFF3E0] text-[#F57C00] shadow-sm":"bg-transparent"}`,children:[t.jsx("div",{className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-full text-[10px] font-black transition-all duration-500 ${r?"bg-[#F57C00] text-white shadow-md shadow-[#F57C00]/20 scale-110":ee?"bg-[#2E7D32] text-white":"bg-zinc-100 text-zinc-400"} ${r?"mr-2":"md:mr-3"}`,children:ee?t.jsx(Ae,{className:"size-4",strokeWidth:3}):y+1}),t.jsx("span",{className:`text-[11px] font-black uppercase tracking-tight md:text-sm md:normal-case md:tracking-normal ${r?"block":"hidden md:block"} ${r?"text-[#F57C00]":"text-zinc-500"}`,children:s.split(". ")[1]})]},s)}),e[56]=l,e[57]=U):U=e[57],e[58]!==U?(N=t.jsx("div",{className:"sticky top-[72px] z-40 mb-10 overflow-hidden rounded-2xl bg-white p-1.5 shadow-lg ring-1 ring-zinc-100 md:relative md:top-0 md:bg-white md:p-1 md:shadow-md",children:t.jsx("div",{className:"flex flex-row items-center gap-1",children:U})}),e[58]=U,e[59]=N):N=e[59],B="grid gap-8 lg:grid-cols-[1fr_360px]";let H;e[60]!==h?(H=h?.success&&t.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 rounded-xl border-l-4 border-[#2E7D32] bg-green-50 px-5 py-4 text-sm font-medium text-[#1B5E20] shadow-sm transition-all duration-500",children:h.success}),e[60]=h,e[61]=H):H=e[61];let W;e[62]!==h?(W=h?.error&&t.jsx("div",{className:"animate-in fade-in slide-in-from-top-4 rounded-xl border-l-4 border-[#C62828] bg-red-50 px-5 py-4 text-sm font-medium text-[#B71C1C] shadow-sm transition-all duration-500",children:h.error}),e[62]=h,e[63]=W):W=e[63];let Y;e[64]!==d||e[65]!==c||e[66]!==ae||e[67]!==z||e[68]!==p||e[69]!==l?(Y=l===1&&t.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"group relative transition-all duration-300 focus-within:ring-2 focus-within:ring-[#F57C00]/20 rounded-2xl",children:[t.jsx(De,{className:"absolute top-1/2 left-5 size-5 -translate-y-1/2 text-[#757575] group-focus-within:text-[#F57C00] transition-colors duration-300"}),t.jsx(ve,{className:"h-14 rounded-2xl border-none pl-14 text-base shadow-sm ring-1 ring-zinc-200 transition-all duration-300 focus:ring-2 focus:ring-[#F57C00] placeholder:text-[#9E9E9E]",value:p,onChange:s=>Me(s.target.value),placeholder:"Search by item, description, or category"})]}),t.jsxs("div",{className:"flex flex-wrap gap-3 pb-2 transition-all duration-300",children:[t.jsx("button",{type:"button",className:`px-6 py-2.5 rounded-full text-sm font-bold transition-all duration-300 shadow-sm ${d==="all"?"bg-[#F57C00] text-white shadow-[#F57C00]/20 scale-105":"bg-white text-[#757575] hover:bg-[#F5F5F5] ring-1 ring-zinc-200"}`,onClick:()=>Se("all"),children:"All items"}),ae.map(s=>t.jsx("button",{type:"button",className:`px-6 py-2.5 rounded-full text-sm font-bold transition-all duration-300 shadow-sm ${d===s?"bg-[#F57C00] text-white shadow-[#F57C00]/20 scale-105":"bg-white text-[#757575] hover:bg-[#F5F5F5] ring-1 ring-zinc-200"}`,onClick:()=>Se(s),children:s},s))]})]}),t.jsx("div",{className:"grid gap-6 sm:grid-cols-2",children:z.map(s=>t.jsxs("div",{className:"group flex flex-col overflow-hidden rounded-2xl bg-white shadow-sm ring-1 ring-zinc-200 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl",children:[t.jsxs("div",{className:"relative aspect-[3/2] overflow-hidden",children:[s.image_url?t.jsx("img",{src:s.image_url,alt:s.name,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"}):t.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center bg-[#F5F5F5]",children:[t.jsx("div",{className:"mb-2 h-12 w-12 rounded-full bg-zinc-200/50 flex items-center justify-center",children:t.jsx(ne,{className:"size-6 text-zinc-400 opacity-50"})}),t.jsx("span",{className:"text-xs font-medium text-zinc-400",children:"Preparation in progress"})]}),t.jsx("div",{className:"absolute top-4 right-4 rounded-full bg-black/40 px-3 py-1.5 text-xs font-black text-white backdrop-blur-md",children:se(s.price)})]}),t.jsxs("div",{className:"flex flex-1 flex-col p-5",children:[t.jsx("div",{className:"mb-1 flex items-start justify-between",children:t.jsxs("div",{children:[s.category&&t.jsx("span",{className:"block text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",children:s.category}),t.jsx("h3",{className:"text-xl font-bold text-[#212121] leading-tight mt-1 group-hover:text-[#F57C00] transition-colors duration-300",children:s.name})]})}),t.jsx("p",{className:"mt-2 text-sm leading-relaxed text-[#757575] line-clamp-2",children:s.description??"A delicious selection crafted with high-quality ingredients just for you."}),t.jsx("div",{className:"mt-auto pt-6",children:t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-1 rounded-full bg-[#FAFAFA] p-1 shadow-inner ring-1 ring-zinc-200",children:[t.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-full bg-white font-bold text-[#212121] shadow-sm transition-all hover:bg-[#F57C00] hover:text-white disabled:opacity-20 active:scale-95",disabled:(c[s.id]??0)<=0,onClick:()=>x(s.id,(c[s.id]??0)-1),children:"-"}),t.jsx("span",{className:"w-10 text-center text-[15px] font-black",children:c[s.id]??0}),t.jsx("button",{type:"button",className:"flex h-9 w-9 items-center justify-center rounded-full bg-white font-bold text-[#212121] shadow-sm transition-all hover:bg-[#F57C00] hover:text-white active:scale-95",onClick:()=>x(s.id,(c[s.id]??0)+1),children:"+"})]}),t.jsx(le,{type:"button",className:`h-11 rounded-full px-6 font-bold transition-all duration-300 active:scale-95 ${(c[s.id]??0)>0?"bg-[#2E7D32] hover:bg-[#1B5E20]":"bg-[#F57C00] hover:bg-[#E65100]"}`,onClick:()=>x(s.id,Math.max(1,(c[s.id]??0)+1)),children:(c[s.id]??0)>0?"Add more":"Add to cart"})]})})]})]},s.id))}),z.length===0&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-4 h-24 w-24 rounded-full bg-zinc-100 flex items-center justify-center",children:t.jsx(De,{className:"size-10 text-zinc-300"})}),t.jsx("h3",{className:"text-xl font-bold text-[#212121]",children:"No items found"}),t.jsx("p",{className:"mt-2 text-[#757575]",children:"Try adjusting your search or category filters."})]})]}),e[64]=d,e[65]=c,e[66]=ae,e[67]=z,e[68]=p,e[69]=l,e[70]=Y):Y=e[70];let G;e[71]!==n||e[72]!==a.errors||e[73]!==l?(G=l===2&&t.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:t.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-zinc-200",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-[#212121]",children:"Review Your Cart"}),t.jsx("p",{className:"text-sm text-[#757575]",children:"Confirm quantities and totals before we proceed to checkout."})]}),t.jsx("div",{className:"space-y-4",children:n.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[t.jsx("div",{className:"mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-zinc-50 shadow-inner",children:t.jsx(ne,{className:"size-10 text-zinc-300"})}),t.jsx("h3",{className:"text-xl font-bold text-[#212121]",children:"Your cart is empty"}),t.jsx("p",{className:"mt-2 text-[#757575]",children:"Look like you haven't added anything to your order yet."}),t.jsxs(le,{onClick:()=>k(1),className:"mt-8 h-12 rounded-xl bg-[#F57C00] px-8 font-black text-white shadow-lg shadow-[#F57C00]/20 hover:bg-[#E65100] active:scale-95 transition-all",children:["Browse Our Menu",t.jsx($e,{className:"ml-2 size-4"})]})]}):n.map(s=>t.jsxs("div",{className:"flex flex-col gap-4 rounded-xl border border-zinc-100 bg-[#FAFAFA] p-4 transition-all hover:shadow-md md:flex-row md:items-center",children:[t.jsxs("div",{className:"flex flex-1 items-center gap-4",children:[t.jsx("div",{className:"h-20 w-20 shrink-0 overflow-hidden rounded-lg border bg-white shadow-sm",children:s.image_url?t.jsx("img",{src:s.image_url,alt:s.name,className:"h-full w-full object-cover",loading:"lazy"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center bg-zinc-50 text-[10px] font-bold uppercase tracking-tighter text-zinc-400",children:"No Photo"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"truncate text-lg font-bold text-[#212121]",children:s.name}),t.jsxs("p",{className:"text-sm font-black text-[#F57C00]",children:[se(s.price)," ",t.jsx("span",{className:"ml-1 text-xs font-medium text-[#9E9E9E]",children:"each"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between border-t border-zinc-100 pt-4 md:border-0 md:pt-0",children:[t.jsxs("div",{className:"flex items-center gap-1 rounded-full bg-white p-1 shadow-sm ring-1 ring-zinc-100",children:[t.jsx("button",{type:"button",className:"flex h-8 w-8 items-center justify-center rounded-full text-[#F57C00] transition-all hover:bg-[#F57C00] hover:text-white active:scale-90",onClick:()=>x(s.id,s.quantity-1),children:"-"}),t.jsx("span",{className:"w-8 text-center text-sm font-black",children:s.quantity}),t.jsx("button",{type:"button",className:"flex h-8 w-8 items-center justify-center rounded-full text-[#F57C00] transition-all hover:bg-[#F57C00] hover:text-white active:scale-90",onClick:()=>x(s.id,s.quantity+1),children:"+"})]}),t.jsx("p",{className:"text-right text-lg font-black text-[#212121] md:w-28",children:se(s.lineTotal)})]})]},s.id))}),t.jsx("div",{className:"mt-6",children:t.jsx(te,{message:a.errors.items})})]})}),e[71]=n,e[72]=a.errors,e[73]=l,e[74]=G):G=e[74];let J;e[75]!==a||e[76]!==g||e[77]!==F||e[78]!==l?(J=l===3&&t.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:t.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-zinc-200",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-xl font-bold text-[#212121]",children:"Pickup & Contact"}),t.jsx("p",{className:"text-sm text-[#757575]",children:"Help us coordinate your pickup with accurate details."})]}),t.jsxs("div",{className:"grid gap-6",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(we,{htmlFor:"name",className:"text-xs font-black uppercase tracking-widest text-[#9E9E9E]",children:"Customer Name"}),t.jsx(ve,{id:"name",className:"h-12 rounded-xl border-zinc-200 focus:ring-[#F57C00] focus:border-[#F57C00]",value:a.data.name,onChange:s=>a.setData("name",s.target.value),placeholder:"Enter your full name"}),t.jsx(te,{message:a.errors.name})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsxs(we,{htmlFor:"phone",className:"text-xs font-black uppercase tracking-widest text-[#9E9E9E]",children:["Phone Number ",t.jsx("span",{className:"text-[#F57C00]",children:"*"})]}),t.jsx(ve,{id:"phone",className:"h-12 rounded-xl border-zinc-200 focus:ring-[#F57C00] focus:border-[#F57C00]",value:a.data.phone,onChange:s=>a.setData("phone",s.target.value),placeholder:"251 9XX XXX XXX"}),t.jsx("p",{className:"text-[10px] text-[#9E9E9E]",children:"We'll send a tracking link to this number."}),t.jsx(te,{message:a.errors.phone})]}),t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(we,{htmlFor:"pickup_date",className:"text-xs font-black uppercase tracking-widest text-[#9E9E9E]",children:"Pickup Date"}),t.jsx(ve,{id:"pickup_date",type:"date",min:Pe(),className:"h-12 rounded-xl border-zinc-200 focus:ring-[#F57C00] focus:border-[#F57C00]",value:a.data.pickup_date,onChange:s=>a.setData("pickup_date",s.target.value)}),t.jsx(te,{message:a.errors.pickup_date})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(we,{htmlFor:"pickup_location",className:"text-xs font-black uppercase tracking-widest text-[#9E9E9E]",children:"Branch Location"}),t.jsxs("select",{id:"pickup_location",className:"flex h-12 w-full rounded-xl border border-zinc-200 bg-white px-3 py-2 text-sm ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[#F57C00] focus-visible:ring-offset-2",value:a.data.pickup_location_id,onChange:s=>a.setData("pickup_location_id",Number(s.target.value)||""),children:[t.jsx("option",{value:"",children:"Select a branch"}),g.map(Ve)]}),t.jsx(te,{message:a.errors.pickup_location_id})]})]}),F&&t.jsx("div",{className:"rounded-2xl border border-[#FFF3E0] bg-[#FFF8F1] p-5 transition-all animate-in slide-in-from-top-2",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-[#F57C00] text-white",children:t.jsx(Xe,{className:"size-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-[#212121]",children:F.name}),t.jsx("p",{className:"mt-1 text-sm text-[#757575] leading-relaxed",children:F.address}),F.google_maps_url&&t.jsxs("a",{className:"mt-3 inline-flex items-center gap-1.5 text-sm font-bold text-[#F57C00] hover:underline",href:F.google_maps_url,target:"_blank",rel:"noopener noreferrer",children:["Open in Google Maps",t.jsx(Ue,{className:"size-3"})]})]})]})}),t.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-xl border border-zinc-100 bg-[#FAFAFA] p-4 transition-all hover:bg-white hover:shadow-sm",children:[t.jsx("input",{type:"checkbox",className:"mt-1 h-5 w-5 rounded border-zinc-300 text-[#F57C00] focus:ring-[#F57C00]",checked:a.data.notify_when_ready,onChange:s=>a.setData("notify_when_ready",s.target.checked)}),t.jsxs("span",{className:"text-sm font-medium text-[#212121] leading-tight",children:["SMS Ready Notification",t.jsx("span",{className:"block mt-1 text-xs font-normal text-[#757575]",children:"We'll text you as soon as your order is packaged and ready to go."})]})]})]})]})}),e[75]=a,e[76]=g,e[77]=F,e[78]=l,e[79]=J):J=e[79];let Q;e[80]!==a||e[81]!==l?(Q=l===4&&t.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-500",children:t.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm ring-1 ring-zinc-200",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h2",{className:"text-xl font-bold text-[#212121]",children:"Payment Upload"}),t.jsx("p",{className:"text-sm text-[#757575]",children:"Upload your bank transfer receipt to verify your order."})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"group relative flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-zinc-200 bg-[#FAFAFA] p-10 transition-all hover:border-[#F57C00] hover:bg-white",children:[t.jsx("div",{className:"mb-4 rounded-full bg-white p-4 shadow-sm ring-1 ring-zinc-100 group-hover:scale-110 group-hover:text-[#F57C00] transition-all duration-300",children:t.jsx(He,{className:"size-8"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-base font-bold text-[#212121]",children:"Click to upload receipt"}),t.jsx("p",{className:"mt-1 text-xs text-[#9E9E9E]",children:"PNG, JPG or WEBP (Max 5MB)"})]}),t.jsx("input",{id:"receipt",type:"file",className:"absolute inset-0 cursor-pointer opacity-0",accept:"image/png,image/jpeg,image/jpg,image/webp",onChange:s=>a.setData("receipt",s.target.files?.[0]??null)})]}),a.data.receipt&&t.jsxs("div",{className:"flex items-center gap-4 rounded-xl bg-[#E8F5E9] p-4 text-[#2E7D32] animate-in slide-in-from-bottom-2",children:[t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-[#2E7D32] text-white",children:t.jsx(Ae,{className:"size-5"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("p",{className:"truncate text-sm font-bold",children:["File selected: ",a.data.receipt.name]}),t.jsx("p",{className:"text-[10px] opacity-80 uppercase font-black",children:"Ready for submission"})]}),t.jsx("button",{type:"button",className:"text-xs font-black uppercase tracking-widest hover:underline",onClick:()=>a.setData("receipt",null),children:"Remove"})]}),t.jsx("div",{className:"rounded-xl bg-[#FFF3E0] p-4 text-[#E65100]",children:t.jsxs("p",{className:"text-xs font-medium leading-relaxed",children:[t.jsx("span",{className:"font-black uppercase tracking-widest mr-2 underline",children:"Note:"}),"You can also skip this for now and upload later using the tracking link we'll send via SMS."]})}),t.jsx(te,{message:a.errors.receipt})]})]})}),e[80]=a,e[81]=l,e[82]=Q):Q=e[82];const ze=`h-14 rounded-2xl px-8 font-bold text-[#757575] transition-all hover:bg-zinc-100 ${l===1?"opacity-0 pointer-events-none":"opacity-100"}`,Ee=l===1;let be;e[83]===Symbol.for("react.memo_cache_sentinel")?(be=()=>{k(Ke),window.scrollTo({top:0,behavior:"smooth"})},e[83]=be):be=e[83];let K;e[84]!==ze||e[85]!==Ee?(K=t.jsx(le,{type:"button",variant:"ghost",className:ze,disabled:Ee,onClick:be,children:"Back"}),e[84]=ze,e[85]=Ee,e[86]=K):K=e[86];let V;e[87]!==ie||e[88]!==n.length||e[89]!==a.processing||e[90]!==l||e[91]!==Ce?(V=t.jsx("div",{className:"flex items-center gap-3",children:l<4?t.jsx(le,{type:"button",className:"h-14 rounded-2xl px-12 font-black shadow-lg shadow-[#F57C00]/20 bg-[#F57C00] hover:bg-[#E65100] active:scale-95 transition-all text-white",disabled:l===1&&n.length===0||l===2&&n.length===0||l===3&&!ie,onClick:()=>{k(Qe),window.scrollTo({top:0,behavior:"smooth"})},children:"Continue"}):t.jsx(le,{type:"button",className:"h-14 rounded-2xl px-12 font-black shadow-lg shadow-[#2E7D32]/20 bg-[#2E7D32] hover:bg-[#1B5E20] active:scale-95 transition-all text-white",disabled:a.processing||n.length===0,onClick:Ce,children:a.processing?"Submitting...":"Confirm Order"})}),e[87]=ie,e[88]=n.length,e[89]=a.processing,e[90]=l,e[91]=Ce,e[92]=V):V=e[92];let Z;e[93]!==K||e[94]!==V?(Z=t.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/90 p-4 shadow-[0_-8px_30px_rgb(0,0,0,0.12)] backdrop-blur-xl ring-1 ring-zinc-200/50 md:relative md:bottom-auto md:left-auto md:right-auto md:z-0 md:w-full md:max-w-none md:translate-x-0 md:bg-transparent md:p-0 md:pt-12 md:shadow-none md:ring-0 md:backdrop-blur-none",children:t.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[K,V]})}),e[93]=K,e[94]=V,e[95]=Z):Z=e[95],e[96]!==H||e[97]!==W||e[98]!==Y||e[99]!==G||e[100]!==J||e[101]!==Q||e[102]!==Z?(j=t.jsxs("section",{className:"space-y-6",children:[H,W,Y,G,J,Q,Z]}),e[96]=H,e[97]=W,e[98]=Y,e[99]=G,e[100]=J,e[101]=Q,e[102]=Z,e[103]=j):j=e[103],P="hidden lg:block",D="sticky top-24 space-y-6",A="overflow-hidden rounded-2xl bg-white shadow-xl ring-1 ring-zinc-200";let je;e[104]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ne,{className:"size-5 text-[#F57C00]"}),t.jsx("h3",{className:"font-black uppercase tracking-widest text-sm",children:"Review Order"})]}),e[104]=je):je=e[104],e[105]!==u?(b=t.jsx("div",{className:"bg-[#212121] px-6 py-5 text-white",children:t.jsxs("div",{className:"flex items-center justify-between",children:[je,t.jsxs("span",{className:"rounded-full bg-white/10 px-3 py-1 text-[10px] font-black uppercase",children:[u," items"]})]})}),e[105]=u,e[106]=b):b=e[106],_="p-6",S=n.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center",id:"empty-cart-summary",children:[t.jsx("div",{className:"mb-4 h-16 w-16 rounded-full bg-zinc-50 flex items-center justify-center",children:t.jsx(ne,{className:"size-6 text-zinc-300"})}),t.jsx("p",{className:"text-sm font-medium text-[#9E9E9E]",children:"Your bag is empty."})]}):t.jsxs("div",{className:"space-y-4",children:[n.slice(0,5).map(Je),n.length>5&&t.jsxs("p",{className:"text-center text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",children:["+ ",n.length-5," additional items"]}),t.jsxs("div",{className:"mt-6 space-y-3 rounded-xl bg-[#FAFAFA] p-4 text-sm",children:[t.jsxs("div",{className:"flex justify-between text-[#757575]",children:[t.jsx("span",{children:"Subtotal"}),t.jsx("span",{className:"font-bold",children:se(f)})]}),t.jsxs("div",{className:"flex justify-between text-[#757575]",children:[t.jsx("span",{children:"Processing Fee"}),t.jsx("span",{className:"font-bold text-[#2E7D32]",children:"FREE"})]}),t.jsx("div",{className:"border-t border-zinc-200 pt-3",children:t.jsxs("div",{className:"flex justify-between text-lg font-black text-[#212121]",children:[t.jsx("span",{children:"Total"}),t.jsx("span",{className:"text-[#F57C00]",children:se(f)})]})})]})]}),e[19]=d,e[20]=c,e[21]=u,e[22]=n,e[23]=ae,e[24]=z,e[25]=h,e[26]=a,e[27]=g,e[28]=p,e[29]=l,e[30]=_,e[31]=S,e[32]=A,e[33]=b,e[34]=D,e[35]=P,e[36]=B,e[37]=j,e[38]=M,e[39]=N,e[40]=T,e[41]=v,e[42]=w}else _=e[30],S=e[31],A=e[32],b=e[33],D=e[34],P=e[35],B=e[36],j=e[37],M=e[38],N=e[39],T=e[40],v=e[41],w=e[42];let O;e[107]!==_||e[108]!==S?(O=t.jsx("div",{className:_,children:S}),e[107]=_,e[108]=S,e[109]=O):O=e[109];let I;e[110]!==A||e[111]!==b||e[112]!==O?(I=t.jsxs("div",{className:A,children:[b,O]}),e[110]=A,e[111]=b,e[112]=O,e[113]=I):I=e[113];let he;e[114]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-white shadow-sm",children:t.jsx(We,{className:"size-4"})}),t.jsx("h4",{className:"text-sm font-black uppercase tracking-widest",children:"Help & Info"})]}),e[114]=he):he=e[114];let pe;e[115]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[#F57C00]"}),t.jsx("p",{className:"text-xs leading-relaxed font-medium",children:"Pickup times are estimated and may vary based on demand."})]}),e[115]=pe):pe=e[115];let ue;e[116]===Symbol.for("react.memo_cache_sentinel")?(ue=t.jsxs("div",{className:"rounded-2xl bg-[#FFF3E0] p-6 text-[#E65100]",children:[he,t.jsxs("div",{className:"space-y-3",children:[pe,t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[#F57C00]"}),t.jsx("p",{className:"text-xs leading-relaxed font-medium",children:"Please ensure your phone number is correct for tracking updates."})]})]})]}),e[116]=ue):ue=e[116];let L;e[117]!==D||e[118]!==I?(L=t.jsxs("div",{className:D,children:[I,ue]}),e[117]=D,e[118]=I,e[119]=L):L=e[119];let q;e[120]!==P||e[121]!==L?(q=t.jsx("aside",{className:P,children:L}),e[120]=P,e[121]=L,e[122]=q):q=e[122];let R;e[123]!==B||e[124]!==j||e[125]!==q?(R=t.jsxs("div",{className:B,children:[j,q]}),e[123]=B,e[124]=j,e[125]=q,e[126]=R):R=e[126];let $;e[127]!==M||e[128]!==N||e[129]!==R?($=t.jsxs("main",{className:M,children:[N,R]}),e[127]=M,e[128]=N,e[129]=R,e[130]=$):$=e[130];let X;e[131]!==T||e[132]!==v||e[133]!==$?(X=t.jsxs("div",{className:T,children:[v,$]}),e[131]=T,e[132]=v,e[133]=$,e[134]=X):X=e[134];let fe;return e[135]!==w||e[136]!==X?(fe=t.jsxs(t.Fragment,{children:[w,X]}),e[135]=w,e[136]=X,e[137]=fe):fe=e[137],fe}function Je(i){return t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex min-w-0 items-center gap-3",children:[t.jsx("div",{className:"h-12 w-12 shrink-0 overflow-hidden rounded-lg border border-zinc-100 bg-zinc-50 shadow-sm",children:i.image_url?t.jsx("img",{src:i.image_url,alt:i.name,className:"h-full w-full object-cover",loading:"lazy"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center bg-zinc-100 text-[8px] font-black uppercase tracking-tighter text-zinc-400",children:"Prep"})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"truncate text-sm font-bold text-[#212121]",children:i.name}),t.jsxs("p",{className:"text-xs font-medium text-[#757575]",children:["Qty: ",i.quantity]})]})]}),t.jsx("span",{className:"text-sm font-black text-[#212121]",children:se(i.lineTotal)})]},i.id)}function Qe(i){return Math.min(4,i+1)}function Ke(i){return Math.max(1,i-1)}function Ve(i){return t.jsx("option",{value:i.id,children:i.name},i.id)}function Ze(){console.log("[Order Submit] finished")}function et(){console.log("[Order Submit] success")}function tt(i){console.log("[Order Submit] upload progress",i?.percentage??0)}function st(){console.log("[Order Submit] request started")}function at(i){return{menu_item_id:i.id,quantity:i.quantity}}function it(i,e){return i+e.lineTotal}function lt(i,e){return i+e.quantity}function nt(i){return!!i}function rt(i,e){return i[e.id]=e,i}export{wt as default};
