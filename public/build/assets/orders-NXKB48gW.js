import{c as Xt,r as f,u as Yt,j as t,b as at,H as Zt,L as es}from"./app-SZ8ZgFWE.js";import{B as fe}from"./badge-5hz9m3Zz.js";import{B as c}from"./createLucideIcon-gmhFn2Sn.js";import{d as h,C as he,a as ts,b as ss}from"./card-Ds_5CPcw.js";import{e as Rt,g as Ot,f as At,b as Tt,a as Lt,D as $t}from"./dialog-BGgEbpD2.js";import{I as It}from"./input-CATR05C3.js";import{L as u}from"./label-B2ypE-j7.js";import{d as Pt,c as ls,A as as,C as Bt}from"./app-layout-DG2KjHrx.js";import{A as rs}from"./arrow-right-B5mZB97I.js";import{M as is}from"./map-pin-W6gYFwTR.js";import{R as Ht}from"./receipt-CYGJFH4M.js";import{C as ns}from"./clock-3--lA7MvVc.js";import{F as cs}from"./filter-CeLr7uuo.js";import{S as os}from"./search-ohkTX5KI.js";import{C as Mt}from"./chevron-left-brH8Z6Tj.js";/* empty css            */import"./index-BeKMl_cn.js";import"./index-D-3JIfSQ.js";import"./index-C8o9R0tm.js";import"./store-TVNeUipb.js";const ds=[{title:"Orders",href:"/staff/orders"}];function ms(l){return new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",maximumFractionDigits:2}).format(l)}function Ut(l){switch(l){case"pending":return"bg-amber-100 text-amber-700 ring-1 ring-amber-200";case"approved":case"completed":return"bg-emerald-100 text-emerald-700 ring-1 ring-emerald-200";case"disapproved":return"bg-rose-100 text-rose-700 ring-1 ring-rose-200";case"preparing":return"bg-indigo-100 text-indigo-700 ring-1 ring-indigo-200";case"ready":return"bg-sky-100 text-sky-700 ring-1 ring-sky-200";default:return"bg-zinc-100 text-zinc-700 ring-1 ring-zinc-200"}}function $s(l){const e=Xt.c(189),{orders:r,filters:p,statusOptions:b,receiptStatusOptions:rt,sourceSummary:it,summary:i}=l,[o,ue]=f.useState(null),[g,Ct]=f.useState(!0),[n,be]=f.useState(null),[d,nt]=f.useState(""),[j,Et]=f.useState(!0),[x,v]=f.useState(null),[m,Ft]=f.useState(null),ct=p.search??"",ot=p.status??"",dt=p.receipt_status??"",mt=p.pickup_location_id??"",pt=p.date??"",xt=p.time_bucket??"",ft=p.source_channel??"all";let ge;e[0]!==ct||e[1]!==ot||e[2]!==dt||e[3]!==mt||e[4]!==pt||e[5]!==xt||e[6]!==ft?(ge={search:ct,status:ot,receipt_status:dt,pickup_location_id:mt,date:pt,time_bucket:xt,source_channel:ft},e[0]=ct,e[1]=ot,e[2]=dt,e[3]=mt,e[4]=pt,e[5]=xt,e[6]=ft,e[7]=ge):ge=e[7];const a=Yt(ge);let je;e[8]!==a.data?(je=s=>{s.preventDefault(),at.get("/staff/orders",a.data,{preserveState:!0,replace:!0})},e[8]=a.data,e[9]=je):je=e[9];const ht=je;let ve;e[10]!==a?(ve=()=>{a.setData({search:"",status:"",receipt_status:"",pickup_location_id:"",date:"",time_bucket:"",source_channel:"all"}),at.get("/staff/orders",{},{preserveState:!0,replace:!0})},e[10]=a,e[11]=ve):ve=e[11];const ut=ve;let Ne;e[12]!==a?(Ne=s=>{a.setData("source_channel",s),at.get("/staff/orders",{...a.data,source_channel:s},{preserveState:!0,replace:!0})},e[12]=a,e[13]=Ne):Ne=e[13];const bt=Ne;let _e;e[14]===Symbol.for("react.memo_cache_sentinel")?(_e={all:"All",web:"Web",telegram:"Telegram",table:"Table"},e[14]=_e):_e=e[14];const Vt=_e;let ye;e[15]===Symbol.for("react.memo_cache_sentinel")?(ye=["all","web","telegram","table"],e[15]=ye):ye=e[15];const qt=ye;let we;e[16]===Symbol.for("react.memo_cache_sentinel")?(we=(s,xe,Kt)=>{Ft(s),at.patch(`/staff/orders/${s}`,xe,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{Kt?.()},onFinish:()=>{Ft(Dt=>Dt===s?null:Dt)}})},e[16]=we):we=e[16];const gt=we;let ke;e[17]===Symbol.for("react.memo_cache_sentinel")?(ke=s=>{ue(s),Ct(!0)},e[17]=ke):ke=e[17];const Qt=ke;let Se;e[18]!==o||e[19]!==g?(Se=()=>{o&&gt(o.id,{receipt_status:"approved",notify_customer:g},()=>{ue(null)})},e[18]=o,e[19]=g,e[20]=Se):Se=e[20];const jt=Se;let ze;e[21]===Symbol.for("react.memo_cache_sentinel")?(ze=s=>{be(s),nt(s.disapproval_reason??""),Et(!0),v(null)},e[21]=ze):ze=e[21];const Wt=ze;let Ce;e[22]!==d||e[23]!==n||e[24]!==j?(Ce=()=>{if(!n)return;const s=d.trim();if(!s){v("Disapproval reason is required.");return}gt(n.id,{receipt_status:"disapproved",disapproval_reason:s,notify_customer:j},()=>{be(null),nt(""),v(null)})},e[22]=d,e[23]=n,e[24]=j,e[25]=Ce):Ce=e[25];const vt=Ce;let Ee;e[26]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(Zt,{title:"Staff Orders"}),e[26]=Ee):Ee=e[26];let Fe;e[27]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-[#9E9E9E]",children:"Total Orders"}),e[27]=Fe):Fe=e[27];let N;e[28]!==i.total_orders?(N=t.jsxs("div",{children:[Fe,t.jsx("h3",{className:"mt-2 text-3xl font-black text-[#212121]",children:i.total_orders})]}),e[28]=i.total_orders,e[29]=N):N=e[29];let De;e[30]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx("div",{className:"rounded-2xl bg-zinc-100 p-3 text-zinc-500",children:t.jsx(Pt,{className:"size-6"})}),e[30]=De):De=e[30];let _;e[31]!==N?(_=t.jsx(h,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:t.jsx(he,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[N,De]})})}),e[31]=N,e[32]=_):_=e[32];let Re;e[33]===Symbol.for("react.memo_cache_sentinel")?(Re=t.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-amber-500",children:"Pending"}),e[33]=Re):Re=e[33];let y;e[34]!==i.pending_orders?(y=t.jsxs("div",{children:[Re,t.jsx("h3",{className:"mt-2 text-3xl font-black text-[#212121]",children:i.pending_orders})]}),e[34]=i.pending_orders,e[35]=y):y=e[35];let Oe;e[36]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx("div",{className:"rounded-2xl bg-amber-50 p-3 text-amber-500",children:t.jsx(ns,{className:"size-6"})}),e[36]=Oe):Oe=e[36];let w;e[37]!==y?(w=t.jsx(h,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:t.jsx(he,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[y,Oe]})})}),e[37]=y,e[38]=w):w=e[38];let Ae;e[39]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-indigo-500",children:"Wait Receipt"}),e[39]=Ae):Ae=e[39];let k;e[40]!==i.pending_receipts?(k=t.jsxs("div",{children:[Ae,t.jsx("h3",{className:"mt-2 text-3xl font-black text-[#212121]",children:i.pending_receipts})]}),e[40]=i.pending_receipts,e[41]=k):k=e[41];let Te;e[42]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsx("div",{className:"rounded-2xl bg-indigo-50 p-3 text-indigo-500",children:t.jsx(Ht,{className:"size-6"})}),e[42]=Te):Te=e[42];let S;e[43]!==k?(S=t.jsx(h,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:t.jsx(he,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[k,Te]})})}),e[43]=k,e[44]=S):S=e[44];let Le;e[45]===Symbol.for("react.memo_cache_sentinel")?(Le=t.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-sky-500",children:"Ready"}),e[45]=Le):Le=e[45];let z;e[46]!==i.ready_orders?(z=t.jsxs("div",{children:[Le,t.jsx("h3",{className:"mt-2 text-3xl font-black text-[#212121]",children:i.ready_orders})]}),e[46]=i.ready_orders,e[47]=z):z=e[47];let $e;e[48]===Symbol.for("react.memo_cache_sentinel")?($e=t.jsx("div",{className:"rounded-2xl bg-sky-50 p-3 text-sky-500",children:t.jsx(ls,{className:"size-6"})}),e[48]=$e):$e=e[48];let C;e[49]!==z?(C=t.jsx(h,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:t.jsx(he,{className:"pt-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[z,$e]})})}),e[49]=z,e[50]=C):C=e[50];let E;e[51]!==_||e[52]!==w||e[53]!==S||e[54]!==C?(E=t.jsxs("div",{className:"hidden grid gap-4 md:grid-cols-4",children:[_,w,S,C]}),e[51]=_,e[52]=w,e[53]=S,e[54]=C,e[55]=E):E=e[55];let Ie;e[56]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(ts,{className:"border-b border-zinc-100 bg-zinc-50/50 py-4",children:t.jsxs(ss,{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest text-[#212121]",children:[t.jsx(cs,{className:"size-4 text-[#F57C00]"}),"Filters"]})}),e[56]=Ie):Ie=e[56];let F;e[57]!==a.data.source_channel||e[58]!==bt||e[59]!==it?(F=t.jsx("div",{className:"mb-5 flex flex-wrap gap-2",children:qt.map(s=>{const xe=a.data.source_channel===s;return t.jsxs(c,{type:"button",size:"sm",variant:xe?"default":"outline",className:`rounded-full px-4 text-xs font-black uppercase tracking-widest transition-all ${xe?"bg-[#F57C00] text-white shadow-lg shadow-[#F57C00]/20 hover:bg-[#E65100]":"border-zinc-200 text-zinc-600 hover:bg-zinc-50"}`,onClick:()=>bt(s),children:[Vt[s]," (",it[s],")"]},s)})}),e[57]=a.data.source_channel,e[58]=bt,e[59]=it,e[60]=F):F=e[60];let Pe;e[61]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx(u,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",htmlFor:"search",children:"Search"}),e[61]=Pe):Pe=e[61];let Be;e[62]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx(os,{className:"absolute left-3 top-1/2 -translate-y-1/2 size-4 text-zinc-400"}),e[62]=Be):Be=e[62];let D;e[63]!==a?(D=s=>a.setData("search",s.target.value),e[63]=a,e[64]=D):D=e[64];let R;e[65]!==a.data.search||e[66]!==D?(R=t.jsxs("div",{className:"lg:col-span-2",children:[Pe,t.jsxs("div",{className:"relative mt-1.5",children:[Be,t.jsx(It,{id:"search",className:"h-11 pl-10 rounded-xl border-zinc-200 focus:ring-[#F57C00] transition-all",value:a.data.search,onChange:D,placeholder:"Order ID, customer, phone, table..."})]})]}),e[65]=a.data.search,e[66]=D,e[67]=R):R=e[67];let He;e[68]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(u,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",htmlFor:"status",children:"Order Status"}),e[68]=He):He=e[68];const Gt=a.data.status;let O;e[69]!==a?(O=s=>a.setData("status",s.target.value),e[69]=a,e[70]=O):O=e[70];let Me;e[71]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx("option",{value:"",children:"All Statuses"}),e[71]=Me):Me=e[71];let A;e[72]!==b?(A=b.map(us),e[72]=b,e[73]=A):A=e[73];let T;e[74]!==a.data.status||e[75]!==O||e[76]!==A?(T=t.jsxs("div",{children:[He,t.jsxs("select",{id:"status",className:"mt-1.5 h-11 w-full rounded-xl border border-zinc-200 bg-white px-3 text-sm focus:outline-none focus:ring-2 focus:ring-[#F57C00]/20 transition-all font-medium",value:Gt,onChange:O,children:[Me,A]})]}),e[74]=a.data.status,e[75]=O,e[76]=A,e[77]=T):T=e[77];let Ue;e[78]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsx(u,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",htmlFor:"receipt_status",children:"Receipt"}),e[78]=Ue):Ue=e[78];const Jt=a.data.receipt_status;let L;e[79]!==a?(L=s=>a.setData("receipt_status",s.target.value),e[79]=a,e[80]=L):L=e[80];let Ve;e[81]===Symbol.for("react.memo_cache_sentinel")?(Ve=t.jsx("option",{value:"",children:"All Receipts"}),e[81]=Ve):Ve=e[81];let $;e[82]!==rt?($=rt.map(hs),e[82]=rt,e[83]=$):$=e[83];let I;e[84]!==a.data.receipt_status||e[85]!==L||e[86]!==$?(I=t.jsxs("div",{children:[Ue,t.jsxs("select",{id:"receipt_status",className:"mt-1.5 h-11 w-full rounded-xl border border-zinc-200 bg-white px-3 text-sm focus:outline-none focus:ring-2 focus:ring-[#F57C00]/20 transition-all font-medium",value:Jt,onChange:L,children:[Ve,$]})]}),e[84]=a.data.receipt_status,e[85]=L,e[86]=$,e[87]=I):I=e[87];let qe;e[88]===Symbol.for("react.memo_cache_sentinel")?(qe=t.jsx(u,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",htmlFor:"date",children:"Date"}),e[88]=qe):qe=e[88];let P;e[89]!==a?(P=s=>a.setData("date",s.target.value),e[89]=a,e[90]=P):P=e[90];let B;e[91]!==a.data.date||e[92]!==P?(B=t.jsxs("div",{children:[qe,t.jsx(It,{id:"date",type:"date",className:"mt-1.5 h-11 rounded-xl border-zinc-200 focus:ring-[#F57C00] transition-all",value:a.data.date,onChange:P})]}),e[91]=a.data.date,e[92]=P,e[93]=B):B=e[93];let Qe;e[94]===Symbol.for("react.memo_cache_sentinel")?(Qe=t.jsx(c,{type:"submit",className:"h-11 flex-1 rounded-xl bg-[#F57C00] font-black shadow-lg shadow-[#F57C00]/20 hover:bg-[#E65100]",children:"Apply"}),e[94]=Qe):Qe=e[94];let H;e[95]!==ut?(H=t.jsxs("div",{className:"flex items-end gap-2 lg:col-span-1",children:[Qe,t.jsx(c,{type:"button",variant:"outline",onClick:ut,className:"h-11 rounded-xl font-bold",children:"Reset"})]}),e[95]=ut,e[96]=H):H=e[96];let M;e[97]!==ht||e[98]!==R||e[99]!==T||e[100]!==I||e[101]!==B||e[102]!==H?(M=t.jsxs("form",{className:"grid gap-6 md:grid-cols-4 lg:grid-cols-6",onSubmit:ht,children:[R,T,I,B,H]}),e[97]=ht,e[98]=R,e[99]=T,e[100]=I,e[101]=B,e[102]=H,e[103]=M):M=e[103];let U;e[104]!==F||e[105]!==M?(U=t.jsxs(h,{className:"border-none shadow-md ring-1 ring-zinc-200",children:[Ie,t.jsxs(he,{className:"pt-6",children:[F,M]})]}),e[104]=F,e[105]=M,e[106]=U):U=e[106];let We;e[107]===Symbol.for("react.memo_cache_sentinel")?(We=t.jsxs("h2",{className:"flex items-center gap-2 text-lg font-black uppercase tracking-widest text-[#212121]",children:[t.jsx(Pt,{className:"size-5 text-[#F57C00]"}),"Order Queue"]}),e[107]=We):We=e[107];let V;e[108]!==r.total?(V=t.jsxs("div",{className:"flex items-center justify-between",children:[We,t.jsxs(fe,{variant:"outline",className:"rounded-full px-4 py-1 text-xs font-bold text-zinc-500",children:[r.total," Total Orders"]})]}),e[108]=r.total,e[109]=V):V=e[109];let q;e[110]!==r.data||e[111]!==b||e[112]!==m?(q=r.data.length===0?t.jsx(h,{className:"border-dashed border-2 p-12 text-center bg-white shadow-none",children:t.jsx("p",{className:"text-zinc-500 font-medium",children:"No orders found for current filters."})}):r.data.map(s=>t.jsxs(h,{className:"overflow-hidden border-none shadow-md ring-1 ring-zinc-200 transition-all hover:ring-[#F57C00]/30 hover:shadow-xl",children:[t.jsx("div",{className:"border-b border-zinc-100 bg-white px-6 py-4",children:t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-[#F57C00]/10 text-[#F57C00]",children:t.jsxs("span",{className:"text-base font-black",children:["#",s.id]})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-black text-[#212121]",children:s.customer_name}),t.jsxs("p",{className:"text-sm font-bold text-zinc-500",children:[s.customer_phone," • ",t.jsxs("span",{className:"text-[#F57C00]",children:["ETB ",s.total_amount.toLocaleString()]})]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsx(fe,{className:`rounded-full px-4 py-1 text-[10px] font-black uppercase tracking-widest shadow-none border-none ${s.source_channel==="web"?"bg-zinc-100 text-zinc-700":s.source_channel==="telegram"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:s.source_channel}),t.jsx(fe,{className:`rounded-full px-4 py-1 text-[10px] font-black uppercase tracking-widest shadow-none border-none ${Ut(s.order_status)}`,children:s.order_status}),t.jsxs(fe,{className:`rounded-full px-4 py-1 text-[10px] font-black uppercase tracking-widest shadow-none border-none ${Ut(s.receipt_status)}`,children:["Receipt ",s.receipt_status]}),t.jsx(c,{variant:"ghost",size:"sm",asChild:!0,className:"h-8 gap-2 rounded-full text-[10px] font-black uppercase tracking-widest hover:text-[#F57C00]",children:t.jsxs("a",{href:s.tracking_url,target:"_blank",rel:"noreferrer",children:["Live Tracking ",t.jsx(rs,{className:"size-3"})]})})]})]})}),t.jsx(he,{className:"p-6",children:t.jsxs("div",{className:"grid gap-8 lg:grid-cols-12",children:[t.jsxs("div",{className:"lg:col-span-5 space-y-4",children:[t.jsx("h4",{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",children:"Order Items"}),t.jsx("div",{className:"space-y-3",children:s.items.map(fs)}),t.jsxs("div",{className:"pt-2",children:[t.jsxs("p",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",children:[t.jsx(is,{className:"size-3"}),s.pickup_location," • ",s.pickup_date]}),s.table_name?t.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[t.jsxs(fe,{className:"bg-zinc-100 text-zinc-700",children:["Table ",s.table_name]}),t.jsxs(fe,{className:s.table_session_verified?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700",children:["Session ",s.table_session_verified?"Verified":"Unverified"]}),s.table_session_token_short?t.jsxs("span",{className:"text-[10px] font-mono text-zinc-500",children:[s.table_session_token_short,"..."]}):null]}):null]})]}),t.jsxs("div",{className:"lg:col-span-7 space-y-6 lg:border-l lg:border-zinc-100 lg:pl-8",children:[t.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx(u,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",children:"Order Status"}),t.jsx("select",{className:"h-11 w-full rounded-xl border border-zinc-200 bg-white px-3 text-sm font-bold text-[#212121] focus:ring-2 focus:ring-[#F57C00]/20 outline-none transition-all",value:s.order_status,disabled:m===s.id,onChange:xe=>gt(s.id,{order_status:xe.target.value}),children:b.map(xs)})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(u,{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",children:"Receipt Status"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx(c,{size:"sm",className:`h-11 rounded-xl font-bold shadow-sm transition-all ${s.receipt_status==="approved"?"bg-emerald-600 text-white":"bg-white border-zinc-200 text-[#212121] hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200"}`,variant:s.receipt_status==="approved"?"default":"outline",disabled:m===s.id,onClick:()=>Qt(s),children:"Approve"}),t.jsx(c,{size:"sm",className:`h-11 rounded-xl font-bold shadow-sm transition-all ${s.receipt_status==="disapproved"?"bg-rose-600 text-white":"bg-white border-zinc-200 text-[#212121] hover:bg-rose-50 hover:text-rose-700 hover:border-rose-200"}`,variant:s.receipt_status==="disapproved"?"destructive":"outline",disabled:m===s.id,onClick:()=>Wt(s),children:"Reject"})]})]})]}),t.jsx("div",{className:"rounded-2xl bg-zinc-50 p-4 ring-1 ring-zinc-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"rounded-xl bg-white p-2.5 shadow-sm ring-1 ring-zinc-100",children:t.jsx(Ht,{className:`size-5 ${s.receipt_url?"text-[#F57C00]":"text-zinc-300"}`})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",children:"Receipt Visualization"}),s.receipt_url?t.jsx("a",{href:s.receipt_url,target:"_blank",rel:"noreferrer",className:"text-xs font-bold text-[#F57C00] hover:underline",children:"View Payment Receipt"}):t.jsx("p",{className:"text-xs font-bold text-zinc-400",children:"No receipt uploaded yet"})]})]}),s.disapproval_reason&&t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-rose-400",children:"Reject Reason"}),t.jsx("p",{className:"text-xs font-bold text-rose-600",children:s.disapproval_reason})]})]})})]})]})})]},s.id)),e[110]=r.data,e[111]=b,e[112]=m,e[113]=q):q=e[113];let Q;e[114]!==V||e[115]!==q?(Q=t.jsxs("div",{className:"space-y-4",children:[V,q]}),e[114]=V,e[115]=q,e[116]=Q):Q=e[116];const Nt=r.from??0,_t=r.to??0;let W;e[117]!==r.total||e[118]!==Nt||e[119]!==_t?(W=t.jsxs("p",{className:"text-muted-foreground text-sm",children:["Showing ",Nt," to ",_t," of ",r.total," order(s)"]}),e[117]=r.total,e[118]=Nt,e[119]=_t,e[120]=W):W=e[120];let G;e[121]!==r.links?(G=r.links.map(ps),e[121]=r.links,e[122]=G):G=e[122];let J;e[123]!==G?(J=t.jsx("div",{className:"flex items-center gap-2",children:G}),e[123]=G,e[124]=J):J=e[124];let K;e[125]!==W||e[126]!==J?(K=t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[W,J]}),e[125]=W,e[126]=J,e[127]=K):K=e[127];let X;e[128]!==E||e[129]!==U||e[130]!==Q||e[131]!==K?(X=t.jsxs("div",{className:"space-y-8 bg-zinc-50/50 p-6 min-h-screen",children:[E,U,Q,K]}),e[128]=E,e[129]=U,e[130]=Q,e[131]=K,e[132]=X):X=e[132];const yt=o!==null;let Ge;e[133]===Symbol.for("react.memo_cache_sentinel")?(Ge=s=>{s||ue(null)},e[133]=Ge):Ge=e[133];let Je;e[134]===Symbol.for("react.memo_cache_sentinel")?(Je=t.jsx(Rt,{children:"Approve Receipt"}),e[134]=Je):Je=e[134];const wt=o?`Confirm receipt approval for order #${o.id}.`:"Confirm receipt approval.";let Y;e[135]!==wt?(Y=t.jsxs(Ot,{children:[Je,t.jsx(At,{children:wt})]}),e[135]=wt,e[136]=Y):Y=e[136];let Ke;e[137]===Symbol.for("react.memo_cache_sentinel")?(Ke=s=>Ct(s.target.checked),e[137]=Ke):Ke=e[137];let Z;e[138]!==g?(Z=t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:g,onChange:Ke}),"Notify customer by SMS"]}),e[138]=g,e[139]=Z):Z=e[139];let Xe;e[140]===Symbol.for("react.memo_cache_sentinel")?(Xe=t.jsx(c,{type:"button",variant:"outline",onClick:()=>ue(null),children:"Cancel"}),e[140]=Xe):Xe=e[140];const kt=!o||(o?m===o.id:!1);let ee;e[141]!==jt||e[142]!==kt?(ee=t.jsxs(Tt,{children:[Xe,t.jsx(c,{type:"button",disabled:kt,onClick:jt,children:"Confirm Approval"})]}),e[141]=jt,e[142]=kt,e[143]=ee):ee=e[143];let te;e[144]!==Y||e[145]!==Z||e[146]!==ee?(te=t.jsxs(Lt,{children:[Y,Z,ee]}),e[144]=Y,e[145]=Z,e[146]=ee,e[147]=te):te=e[147];let se;e[148]!==yt||e[149]!==te?(se=t.jsx($t,{open:yt,onOpenChange:Ge,children:te}),e[148]=yt,e[149]=te,e[150]=se):se=e[150];const St=n!==null;let Ye;e[151]===Symbol.for("react.memo_cache_sentinel")?(Ye=s=>{s||(be(null),v(null))},e[151]=Ye):Ye=e[151];let Ze;e[152]===Symbol.for("react.memo_cache_sentinel")?(Ze=t.jsx(Rt,{children:"Disapprove Receipt"}),e[152]=Ze):Ze=e[152];const zt=n?`Provide a reason for order #${n.id}.`:"Provide a disapproval reason.";let le;e[153]!==zt?(le=t.jsxs(Ot,{children:[Ze,t.jsx(At,{children:zt})]}),e[153]=zt,e[154]=le):le=e[154];let et;e[155]===Symbol.for("react.memo_cache_sentinel")?(et=t.jsx(u,{htmlFor:"disapproval-reason",children:"Reason"}),e[155]=et):et=e[155];let ae;e[156]!==x?(ae=s=>{nt(s.target.value),x&&v(null)},e[156]=x,e[157]=ae):ae=e[157];let re;e[158]!==d||e[159]!==ae?(re=t.jsx("textarea",{id:"disapproval-reason",className:"border-input min-h-28 w-full rounded-md border px-3 py-2 text-sm",value:d,onChange:ae,placeholder:"Tell the customer what needs to be fixed"}),e[158]=d,e[159]=ae,e[160]=re):re=e[160];let ie;e[161]!==x?(ie=x?t.jsx("p",{className:"text-sm text-red-600",children:x}):null,e[161]=x,e[162]=ie):ie=e[162];let ne;e[163]!==re||e[164]!==ie?(ne=t.jsxs("div",{className:"space-y-2",children:[et,re,ie]}),e[163]=re,e[164]=ie,e[165]=ne):ne=e[165];let tt;e[166]===Symbol.for("react.memo_cache_sentinel")?(tt=s=>Et(s.target.checked),e[166]=tt):tt=e[166];let ce;e[167]!==j?(ce=t.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[t.jsx("input",{type:"checkbox",checked:j,onChange:tt}),"Notify customer by SMS"]}),e[167]=j,e[168]=ce):ce=e[168];let st;e[169]===Symbol.for("react.memo_cache_sentinel")?(st=t.jsx(c,{type:"button",variant:"outline",onClick:()=>{be(null),v(null)},children:"Cancel"}),e[169]=st):st=e[169];let oe;e[170]!==d||e[171]!==n||e[172]!==m?(oe=!n||!d.trim()||(n?m===n.id:!1),e[170]=d,e[171]=n,e[172]=m,e[173]=oe):oe=e[173];let de;e[174]!==vt||e[175]!==oe?(de=t.jsxs(Tt,{children:[st,t.jsx(c,{type:"button",variant:"destructive",disabled:oe,onClick:vt,children:"Confirm Disapproval"})]}),e[174]=vt,e[175]=oe,e[176]=de):de=e[176];let me;e[177]!==le||e[178]!==ne||e[179]!==ce||e[180]!==de?(me=t.jsxs(Lt,{children:[le,ne,ce,de]}),e[177]=le,e[178]=ne,e[179]=ce,e[180]=de,e[181]=me):me=e[181];let pe;e[182]!==me||e[183]!==St?(pe=t.jsx($t,{open:St,onOpenChange:Ye,children:me}),e[182]=me,e[183]=St,e[184]=pe):pe=e[184];let lt;return e[185]!==pe||e[186]!==X||e[187]!==se?(lt=t.jsxs(as,{breadcrumbs:ds,children:[Ee,X,se,pe]}),e[185]=pe,e[186]=X,e[187]=se,e[188]=lt):lt=e[188],lt}function ps(l){return t.jsx(c,{variant:l.active?"default":"outline",size:"sm",disabled:!l.url,asChild:!!l.url,className:`h-10 rounded-xl px-4 font-bold transition-all ${l.active?"bg-[#F57C00] text-white shadow-lg shadow-[#F57C00]/20":"text-zinc-500 border-zinc-200"}`,children:l.url?t.jsx(es,{href:l.url,preserveState:!0,preserveScroll:!0,children:l.label.includes("Previous")?t.jsx(Mt,{className:"size-4"}):l.label.includes("Next")?t.jsx(Bt,{className:"size-4"}):t.jsx("span",{dangerouslySetInnerHTML:{__html:l.label}})}):t.jsx("span",{children:l.label.includes("Previous")?t.jsx(Mt,{className:"size-4"}):l.label.includes("Next")?t.jsx(Bt,{className:"size-4"}):t.jsx("span",{dangerouslySetInnerHTML:{__html:l.label}})})},l.label)}function xs(l){return t.jsx("option",{value:l,children:l.charAt(0).toUpperCase()+l.slice(1)},l)}function fs(l){return t.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-zinc-50 p-3 ring-1 ring-zinc-100",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"size-10 shrink-0 overflow-hidden rounded-lg border bg-white shadow-sm",children:l.image_url?t.jsx("img",{src:l.image_url,alt:l.name??"Item",className:"h-full w-full object-cover"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center bg-zinc-50 text-[8px] font-bold uppercase text-zinc-400",children:"Prep"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-[#212121]",children:l.name}),t.jsxs("p",{className:"text-xs font-medium text-zinc-500",children:["Qty: ",l.quantity]})]})]}),t.jsx("span",{className:"text-sm font-black text-[#212121]",children:ms(l.line_total)})]},l.id)}function hs(l){return t.jsx("option",{value:l,children:l.charAt(0).toUpperCase()+l.slice(1)},l)}function us(l){return t.jsx("option",{value:l,children:l.charAt(0).toUpperCase()+l.slice(1)},l)}export{$s as default};
