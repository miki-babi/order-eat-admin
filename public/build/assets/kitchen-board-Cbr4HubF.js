import{c as O,r as Q,j as t,b as I,H as V}from"./app-SZ8ZgFWE.js";import{B as K}from"./badge-5hz9m3Zz.js";import{b as q,B as j}from"./createLucideIcon-gmhFn2Sn.js";import{d as f,C as g,a as Z,b as G}from"./card-Ds_5CPcw.js";import{A as J}from"./app-layout-DG2KjHrx.js";import{L as U}from"./loader-circle-JoCZyEmk.js";import{C as W}from"./circle-check-nD_vqT2l.js";/* empty css            */import"./index-D-3JIfSQ.js";import"./index-BeKMl_cn.js";import"./index-C8o9R0tm.js";import"./map-pin-W6gYFwTR.js";import"./store-TVNeUipb.js";const X=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Y=q("ChefHat",X);const w=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M12 14v-4",key:"1evpnu"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6",key:"1ts96g"}],["path",{d:"M9 17H4v5",key:"8t5av"}]],ee=q("TimerReset",w),te=[{title:"Kitchen Board",href:"/staff/kitchen-board"}];function se(a){return new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",maximumFractionDigits:2}).format(a)}function ae(a){return a==="telegram"?"bg-sky-100 text-sky-700":a==="table"?"bg-orange-100 text-orange-700":"bg-zinc-100 text-zinc-700"}function re(a){return a==="prepared"?"bg-emerald-100 text-emerald-700":a==="preparing"?"bg-indigo-100 text-indigo-700":"bg-amber-100 text-amber-700"}function je(a){const e=O.c(41),{screens:N,selectedScreenId:n,statusFilter:i,orderStatuses:k,summary:r}=a,[b,L]=Q.useState(null);let z;e[0]!==i?(z=s=>{I.get("/staff/kitchen-board",{screen_id:s,status:i},{preserveState:!0,replace:!0})},e[0]=i,e[1]=z):z=e[1];const F=z;let y;e[2]!==n?(y=s=>{I.get("/staff/kitchen-board",{screen_id:n,status:s},{preserveState:!0,replace:!0})},e[2]=n,e[3]=y):y=e[3];const H=y;let _;e[4]===Symbol.for("react.memo_cache_sentinel")?(_=(s,D)=>{L(s),I.patch(`/staff/kitchen-board/statuses/${s}`,{status:D},{preserveScroll:!0,onFinish:()=>L(R=>R===s?null:R)})},e[4]=_):_=e[4];const M=_;let v;e[5]===Symbol.for("react.memo_cache_sentinel")?(v=["all","pending","preparing","prepared"],e[5]=v):v=e[5];const A=v;let C;e[6]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(V,{title:"Kitchen Board"}),e[6]=C):C=e[6];let S;e[7]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(Z,{className:"border-b border-zinc-100",children:t.jsxs(G,{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest text-zinc-900",children:[t.jsx(Y,{className:"size-4 text-[#F57C00]"}),"Kitchen Screens"]})}),e[7]=S):S=e[7];let c;e[8]!==N||e[9]!==F||e[10]!==n?(c=N.length===0?t.jsx("p",{className:"text-sm font-medium text-zinc-500",children:"No kitchen screen assigned to your account yet."}):t.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(s=>t.jsxs(j,{type:"button",size:"sm",variant:n===s.id?"default":"outline",className:n===s.id?"bg-[#F57C00] hover:bg-[#E65100]":"",onClick:()=>F(s.id),children:[s.name," (",s.pickup_location_name,")"]},s.id))}),e[8]=N,e[9]=F,e[10]=n,e[11]=c):c=e[11];let l;e[12]!==H||e[13]!==i?(l=t.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(s=>t.jsx(j,{type:"button",size:"sm",variant:i===s?"default":"outline",className:i===s?"bg-[#212121] hover:bg-black":"",onClick:()=>H(s),children:s},s))}),e[12]=H,e[13]=i,e[14]=l):l=e[14];let d;e[15]!==c||e[16]!==l?(d=t.jsxs(f,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:[S,t.jsxs(g,{className:"space-y-4 pt-4",children:[c,l]})]}),e[15]=c,e[16]=l,e[17]=d):d=e[17];let B;e[18]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500",children:"Pending"}),e[18]=B):B=e[18];let m;e[19]!==r.pending?(m=t.jsx(f,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:t.jsxs(g,{className:"pt-5",children:[B,t.jsx("p",{className:"mt-2 text-3xl font-black text-zinc-900",children:r.pending})]})}),e[19]=r.pending,e[20]=m):m=e[20];let P;e[21]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500",children:"Preparing"}),e[21]=P):P=e[21];let o;e[22]!==r.preparing?(o=t.jsx(f,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:t.jsxs(g,{className:"pt-5",children:[P,t.jsx("p",{className:"mt-2 text-3xl font-black text-zinc-900",children:r.preparing})]})}),e[22]=r.preparing,e[23]=o):o=e[23];let T;e[24]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500",children:"Prepared"}),e[24]=T):T=e[24];let p;e[25]!==r.prepared?(p=t.jsx(f,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:t.jsxs(g,{className:"pt-5",children:[T,t.jsx("p",{className:"mt-2 text-3xl font-black text-zinc-900",children:r.prepared})]})}),e[25]=r.prepared,e[26]=p):p=e[26];let x;e[27]!==m||e[28]!==o||e[29]!==p?(x=t.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[m,o,p]}),e[27]=m,e[28]=o,e[29]=p,e[30]=x):x=e[30];let $;e[31]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("h2",{className:"text-sm font-black uppercase tracking-widest text-zinc-900",children:"Kitchen Queue"}),e[31]=$):$=e[31];let h;e[32]!==k||e[33]!==b?(h=k.length===0?t.jsx(f,{className:"border-dashed border-zinc-300",children:t.jsx(g,{className:"py-10 text-center text-sm font-medium text-zinc-500",children:"No kitchen orders for this screen and filter."})}):k.map(s=>t.jsx(f,{className:"border-none shadow-sm ring-1 ring-zinc-200",children:t.jsxs(g,{className:"space-y-4 p-4",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-black text-zinc-900",children:["Order #",s.order.id," ",s.order.customer_name?`• ${s.order.customer_name}`:""]}),t.jsxs("p",{className:"text-xs font-medium text-zinc-500",children:[s.order.table_name?`Table ${s.order.table_name} • `:"","Confirmed: ",s.order.waiter_confirmed_at??"-"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(K,{className:ae(s.order.source_channel),children:s.order.source_channel}),t.jsx(K,{className:re(s.status),children:s.status}),t.jsx(K,{className:"bg-zinc-100 text-zinc-700",children:se(s.order.total_amount)})]})]}),t.jsxs("div",{className:"rounded-xl bg-zinc-50 p-3 ring-1 ring-zinc-100",children:[t.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500",children:"Items"}),t.jsx("p",{className:"mt-1 text-sm font-medium text-zinc-700",children:s.order.items.map(ne).join(" • ")})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs(j,{type:"button",size:"sm",variant:s.status==="pending"?"default":"outline",className:s.status==="pending"?"bg-amber-600 hover:bg-amber-700":"",disabled:b===s.id,onClick:()=>M(s.id,"pending"),children:[t.jsx(ee,{className:"mr-1 size-3"}),"Pending"]}),t.jsxs(j,{type:"button",size:"sm",variant:s.status==="preparing"?"default":"outline",className:s.status==="preparing"?"bg-indigo-600 hover:bg-indigo-700":"",disabled:b===s.id,onClick:()=>M(s.id,"preparing"),children:[t.jsx(U,{className:"mr-1 size-3"}),"Preparing"]}),t.jsxs(j,{type:"button",size:"sm",variant:s.status==="prepared"?"default":"outline",className:s.status==="prepared"?"bg-emerald-600 hover:bg-emerald-700":"",disabled:b===s.id,onClick:()=>M(s.id,"prepared"),children:[t.jsx(W,{className:"mr-1 size-3"}),"Prepared"]})]})]})},s.id)),e[32]=k,e[33]=b,e[34]=h):h=e[34];let u;e[35]!==h?(u=t.jsxs("section",{className:"space-y-4",children:[$,h]}),e[35]=h,e[36]=u):u=e[36];let E;return e[37]!==x||e[38]!==u||e[39]!==d?(E=t.jsxs(J,{breadcrumbs:te,children:[C,t.jsxs("div",{className:"min-h-screen space-y-6 bg-zinc-50/60 p-6",children:[d,x,u]})]}),e[37]=x,e[38]=u,e[39]=d,e[40]=E):E=e[40],E}function ne(a){return`${a.name??"Item"} x${a.quantity}`}export{je as default};
