import{c as _e,r as fe,a as Ne,j as t,H as we,L as ue}from"./app-B1ifENt7.js";import{I as ve}from"./input-error-idKhxiu_.js";import{b as ke,B as O}from"./createLucideIcon-DBjBHpes.js";import{C as ye}from"./card-DUXOF7wf.js";import{D as Se,a as Ce,b as Ee,c as Fe,d as ze,e as De}from"./dialog-KhuxQ9ux.js";import{I as Pe}from"./input-ZZWHhI5M.js";import{M as Ae}from"./map-pin-CMaCX4Sl.js";import{P as Ie}from"./phone-z0qs20aY.js";import{C as Te}from"./clock-3-DkC5Zolb.js";import{A as Xe}from"./arrow-right-uZ1Is74Z.js";import{S as Me}from"./shopping-bag-CO6CMm6i.js";/* empty css            */import"./index-CFPRdl_O.js";import"./index-CmpwTNNW.js";import"./x-DG3YsQOQ.js";const Re=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ge=ke("BadgeCheck",Re);function Be(){if(typeof window>"u")return!1;if(window.Telegram?.WebApp)return!0;const e=s=>{const H=s.trim().replace(/^[?#]/,"");return H===""?!1:new URLSearchParams(H).has("tgWebAppData")};return e(window.location.search)||e(window.location.hash)}function he(a){return new Intl.NumberFormat("en-ET",{style:"currency",currency:"ETB",maximumFractionDigits:2}).format(a)}function st(a){const e=_e.c(114),{order:s}=a,H=Be()?"/telegram/menu":"/";let W;e[0]!==s.customer||e[1]!==s.should_prompt_phone_capture?(W=!s.should_prompt_phone_capture&&typeof s.customer.phone=="string"?s.customer.phone.trim():"",e[0]=s.customer,e[1]=s.should_prompt_phone_capture,e[2]=W):W=e[2];const be=W,[$,je]=fe.useState(be),[ce,q]=fe.useState(s.source_channel==="table"&&s.should_prompt_phone_capture);let Q;e[3]===Symbol.for("react.memo_cache_sentinel")?(Q={phone:""},e[3]=Q):Q=e[3];const l=Ne(Q);let U;e[4]!==s.tracking_token||e[5]!==l?(U=()=>{l.post(`/orders/${s.tracking_token}/phone`,{preserveScroll:!0,onSuccess:()=>{je(l.data.phone.replace(/[^\d+]/g,"").trim()),q(!1),l.reset()}})},e[4]=s.tracking_token,e[5]=l,e[6]=U):U=e[6];const me=U,de=`Order #${s.id} Confirmed - Cafe`;let n;e[7]!==de?(n=t.jsx(we,{title:de}),e[7]=de,e[8]=n):n=e[8];let i;e[9]!==l.processing?(i=L=>{l.processing||q(L)},e[9]=l.processing,e[10]=i):i=e[10];let Z;e[11]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsxs(Se,{children:[t.jsxs(Ce,{className:"flex items-center gap-2 text-[#212121]",children:[t.jsx(Ie,{className:"size-5 text-[#F57C00]"}),"Add your phone number"]}),t.jsx(Ee,{className:"text-[#757575]",children:"become our customer and receive real-time updates via SMS."})]}),e[11]=Z):Z=e[11];let r;e[12]!==me?(r=L=>{L.preventDefault(),me()},e[12]=me,e[13]=r):r=e[13];let o;e[14]!==l?(o=L=>l.setData("phone",L.target.value),e[14]=l,e[15]=o):o=e[15];let c;e[16]!==l.data.phone||e[17]!==o?(c=t.jsx(Pe,{className:"h-11 rounded-xl border-zinc-200 focus:ring-[#F57C00]",value:l.data.phone,onChange:o,placeholder:"251 9XX XXX XXX"}),e[16]=l.data.phone,e[17]=o,e[18]=c):c=e[18];let m;e[19]!==l.errors.phone?(m=t.jsx(ve,{message:l.errors.phone}),e[19]=l.errors.phone,e[20]=m):m=e[20];let G;e[21]===Symbol.for("react.memo_cache_sentinel")?(G=()=>q(!1),e[21]=G):G=e[21];let d;e[22]!==l.processing?(d=t.jsx(O,{type:"button",variant:"outline",className:"rounded-xl",disabled:l.processing,onClick:G,children:"Skip"}),e[22]=l.processing,e[23]=d):d=e[23];let x;e[24]!==l.data.phone||e[25]!==l.processing?(x=l.processing||l.data.phone.trim()==="",e[24]=l.data.phone,e[25]=l.processing,e[26]=x):x=e[26];const xe=l.processing?"Saving...":"Save Phone";let p;e[27]!==x||e[28]!==xe?(p=t.jsx(O,{type:"submit",className:"rounded-xl bg-[#F57C00] text-white hover:bg-[#E65100]",disabled:x,children:xe}),e[27]=x,e[28]=xe,e[29]=p):p=e[29];let h;e[30]!==d||e[31]!==p?(h=t.jsxs(Fe,{children:[d,p]}),e[30]=d,e[31]=p,e[32]=h):h=e[32];let f;e[33]!==c||e[34]!==m||e[35]!==h||e[36]!==r?(f=t.jsxs(ze,{className:"top-auto right-0 bottom-0 left-0 w-full max-w-none translate-x-0 translate-y-0 rounded-t-2xl rounded-b-none border-zinc-200 bg-white p-6 sm:top-[50%] sm:right-auto sm:bottom-auto sm:left-[50%] sm:w-full sm:max-w-md sm:translate-x-[-50%] sm:translate-y-[-50%] sm:rounded-2xl",children:[Z,t.jsxs("form",{className:"space-y-3",onSubmit:r,children:[c,m,h]})]}),e[33]=c,e[34]=m,e[35]=h,e[36]=r,e[37]=f):f=e[37];let u;e[38]!==ce||e[39]!==f||e[40]!==i?(u=t.jsx(De,{open:ce,onOpenChange:i,children:f}),e[38]=ce,e[39]=f,e[40]=i,e[41]=u):u=e[41];let J,K;e[42]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx("div",{className:"mx-auto mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-[#E8F5E9] text-[#2E7D32] shadow-sm",children:t.jsx(ge,{className:"size-14"})}),K=t.jsx("h1",{className:"text-3xl font-black text-[#212121] md:text-4xl",children:"Order Confirmed!"}),e[42]=J,e[43]=K):(J=e[42],K=e[43]);let g;e[44]!==s.id?(g=t.jsxs("p",{className:"mt-4 text-lg text-[#757575]",children:["We've received your order ",t.jsxs("span",{className:"font-bold text-[#212121]",children:["#",s.id]})]}),e[44]=s.id,e[45]=g):g=e[45];let b;e[46]!==s.source_channel||e[47]!==$?(b=$!==""?t.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-medium text-[#757575] shadow-sm ring-1 ring-zinc-100",children:[t.jsx("span",{className:"h-2 w-2 rounded-full bg-[#2E7D32] animate-pulse"}),s.source_channel==="table"?`SMS updates will be sent to ${$}`:`Sent tracking link to ${$}`]}):t.jsxs("div",{className:"mt-6 space-y-2",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-medium text-[#757575] shadow-sm ring-1 ring-zinc-100",children:[t.jsx("span",{className:"h-2 w-2 rounded-full bg-amber-500"}),"Add your phone number to receive SMS updates."]}),s.source_channel==="table"&&t.jsx("div",{children:t.jsx(O,{type:"button",variant:"link",className:"h-auto p-0 text-sm font-bold text-[#F57C00] hover:text-[#E65100]",onClick:()=>q(!0),children:"Add phone now"})})]}),e[46]=s.source_channel,e[47]=$,e[48]=b):b=e[48];let j;e[49]!==g||e[50]!==b?(j=t.jsxs("div",{className:"mb-12 text-center animate-in fade-in zoom-in duration-700",children:[J,K,g,b]}),e[49]=g,e[50]=b,e[51]=j):j=e[51];let V;e[52]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-[#9E9E9E]",children:"Pickup Details"}),e[52]=V):V=e[52];let _;e[53]!==s.pickup_location.name?(_=t.jsx("h3",{className:"mt-1 text-xl font-bold",children:s.pickup_location.name}),e[53]=s.pickup_location.name,e[54]=_):_=e[54];let N;e[55]!==s.pickup_location.address?(N=t.jsx("p",{className:"mt-1 text-sm text-[#757575]",children:s.pickup_location.address}),e[55]=s.pickup_location.address,e[56]=N):N=e[56];let w;e[57]!==_||e[58]!==N?(w=t.jsxs("div",{children:[V,_,N]}),e[57]=_,e[58]=N,e[59]=w):w=e[59];let Y,ee;e[60]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx("div",{className:"h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-white/10 flex",children:t.jsx(Te,{className:"size-5 text-[#F57C00]"})}),ee=t.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-[#9E9E9E]",children:"Reserved For"}),e[60]=Y,e[61]=ee):(Y=e[60],ee=e[61]);let v;e[62]!==s.pickup_date?(v=t.jsxs("div",{className:"flex items-center gap-3",children:[Y,t.jsxs("div",{children:[ee,t.jsx("p",{className:"text-sm font-bold",children:s.pickup_date})]})]}),e[62]=s.pickup_date,e[63]=v):v=e[63];let k;e[64]!==w||e[65]!==v?(k=t.jsxs("div",{className:"flex flex-col items-start justify-between gap-6 md:flex-row md:items-center",children:[w,v]}),e[64]=w,e[65]=v,e[66]=k):k=e[66];const pe=`/orders/${s.tracking_token}/track`;let te;e[67]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(Xe,{className:"ml-2 size-5"}),e[67]=te):te=e[67];let y;e[68]!==pe?(y=t.jsx(O,{asChild:!0,className:"h-14 w-full rounded-2xl bg-[#F57C00] px-8 text-base font-black text-white shadow-lg shadow-[#F57C00]/20 transition-all hover:bg-[#E65100] active:scale-[0.98] sm:flex-1",children:t.jsxs(ue,{href:pe,children:["Track Live Status",te]})}),e[68]=pe,e[69]=y):y=e[69];let S;e[70]!==s.pickup_location.google_maps_url?(S=s.pickup_location.google_maps_url&&t.jsx(O,{asChild:!0,variant:"outline",className:"h-14 rounded-2xl border-white/20 bg-white/5 px-6 text-white hover:bg-white/10 hover:text-white transition-all",children:t.jsx("a",{href:s.pickup_location.google_maps_url,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0",children:t.jsx(Ae,{className:"size-5"})})}),e[70]=s.pickup_location.google_maps_url,e[71]=S):S=e[71];let C;e[72]!==y||e[73]!==S?(C=t.jsxs("div",{className:"mt-8 flex flex-col gap-3 sm:flex-row",children:[y,S]}),e[72]=y,e[73]=S,e[74]=C):C=e[74];let E;e[75]!==k||e[76]!==C?(E=t.jsxs("div",{className:"bg-[#212121] p-6 text-white md:p-8",children:[k,C]}),e[75]=k,e[76]=C,e[77]=E):E=e[77];let se;e[78]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsxs("h4",{className:"mb-6 flex items-center gap-2 text-sm font-black uppercase tracking-widest text-[#9E9E9E]",children:[t.jsx(Me,{className:"size-4"}),"Order Summary"]}),e[78]=se):se=e[78];let F;e[79]!==s.items?(F=s.items.map(Oe),e[79]=s.items,e[80]=F):F=e[80];let le;e[81]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("span",{className:"text-sm font-medium",children:"Subtotal"}),e[81]=le):le=e[81];let z;e[82]!==s.total_amount?(z=he(s.total_amount),e[82]=s.total_amount,e[83]=z):z=e[83];let D;e[84]!==z?(D=t.jsxs("div",{className:"flex justify-between text-[#757575]",children:[le,t.jsx("span",{className:"font-bold",children:z})]}),e[84]=z,e[85]=D):D=e[85];let ae;e[86]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsxs("div",{className:"flex justify-between text-[#757575]",children:[t.jsxs("span",{className:"text-sm font-medium flex items-center gap-2",children:["Service Fee",t.jsx(ge,{className:"size-3 text-[#2E7D32]"})]}),t.jsx("span",{className:"font-black text-[#2E7D32] animate-pulse",children:"FREE"})]}),e[86]=ae):ae=e[86];let ne;e[87]===Symbol.for("react.memo_cache_sentinel")?(ne=t.jsx("span",{className:"text-xl font-black text-[#212121]",children:"Total Paid"}),e[87]=ne):ne=e[87];let P;e[88]!==s.total_amount?(P=he(s.total_amount),e[88]=s.total_amount,e[89]=P):P=e[89];let A;e[90]!==P?(A=t.jsxs("div",{className:"flex justify-between pt-2",children:[ne,t.jsx("span",{className:"text-2xl font-black text-[#F57C00]",children:P})]}),e[90]=P,e[91]=A):A=e[91];let I;e[92]!==D||e[93]!==A?(I=t.jsxs("div",{className:"mt-8 space-y-4 border-t border-zinc-100 pt-8",children:[D,ae,A]}),e[92]=D,e[93]=A,e[94]=I):I=e[94];let T;e[95]!==F||e[96]!==I?(T=t.jsx(ye,{className:"p-0",children:t.jsxs("div",{className:"p-6 md:p-8",children:[se,t.jsxs("div",{className:"space-y-6",children:[F,I]})]})}),e[95]=F,e[96]=I,e[97]=T):T=e[97];let X;e[98]!==E||e[99]!==T?(X=t.jsxs("div",{className:"overflow-hidden rounded-3xl bg-white shadow-xl shadow-zinc-200/50 ring-1 ring-zinc-200",children:[E,T]}),e[98]=E,e[99]=T,e[100]=X):X=e[100];let ie;e[101]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(O,{asChild:!0,variant:"link",className:"text-sm font-bold text-[#757575] hover:text-[#F57C00]",children:t.jsx(ue,{href:H,children:"Need to order more? Return to Menu"})}),e[101]=ie):ie=e[101];let re;e[102]===Symbol.for("react.memo_cache_sentinel")?(re=t.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 pt-8",children:[ie,t.jsxs("div",{className:"flex items-center gap-4 text-[#9E9E9E]",children:[t.jsx("div",{className:"h-[1px] w-12 bg-zinc-200"}),t.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Premium Cafe Experience"}),t.jsx("div",{className:"h-[1px] w-12 bg-zinc-200"})]})]}),e[102]=re):re=e[102];let M;e[103]!==X?(M=t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:[X,re]}),e[103]=X,e[104]=M):M=e[104];let R;e[105]!==j||e[106]!==M?(R=t.jsxs("main",{className:"mx-auto max-w-2xl px-4 py-12 md:py-20",children:[j,M]}),e[105]=j,e[106]=M,e[107]=R):R=e[107];let B;e[108]!==u||e[109]!==R?(B=t.jsxs("div",{className:"min-h-screen bg-[#FAFAFA] text-[#212121] selection:bg-[#F57C00]/20",children:[u,R]}),e[108]=u,e[109]=R,e[110]=B):B=e[110];let oe;return e[111]!==n||e[112]!==B?(oe=t.jsxs(t.Fragment,{children:[n,B]}),e[111]=n,e[112]=B,e[113]=oe):oe=e[113],oe}function Oe(a){return t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex min-w-0 items-center gap-4",children:[t.jsx("div",{className:"h-16 w-16 shrink-0 overflow-hidden rounded-2xl border border-zinc-100 bg-[#FAFAFA] shadow-sm",children:a.image_url?t.jsx("img",{src:a.image_url,alt:a.name??"Item",className:"h-full w-full object-cover",loading:"lazy"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center bg-zinc-50 text-[10px] font-black uppercase text-zinc-300",children:"No Photo"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("p",{className:"truncate text-base font-bold text-[#212121]",children:a.name??"Item"}),t.jsxs("p",{className:"text-sm font-medium text-[#757575]",children:["Quantity: ",a.quantity]})]})]}),t.jsx("span",{className:"text-base font-black text-[#212121]",children:he(a.line_total)})]},a.id)}export{st as default};
