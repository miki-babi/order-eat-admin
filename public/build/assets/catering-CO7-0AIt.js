import{c as ue,u as pe,r as ie,a as ge,j as t,H as he,L as le}from"./app-B1ifENt7.js";import{C as ce,U as fe,B as be}from"./business-footer-DVRlSteu.js";import{I as x}from"./input-error-idKhxiu_.js";import{B as D}from"./createLucideIcon-DBjBHpes.js";import{I}from"./input-ZZWHhI5M.js";import{S as de}from"./shopping-bag-CO6CMm6i.js";import{I as je}from"./image-plus-deTB6hLW.js";import{C as Ne}from"./check-Do_Ao3Q-.js";import{U as ve}from"./users-ClLoEKCw.js";import{M as ke}from"./map-pin-CMaCX4Sl.js";import{P as ze}from"./phone-z0qs20aY.js";import{C as _e}from"./chevron-left-PoAThYv8.js";import{C as oe}from"./chevron-right-BOcL-KTG.js";/* empty css            */const we=[{id:1,title:"Packages",hint:"Select one or more packages"},{id:2,title:"Event & Contact",hint:"Enter event details and contact info"},{id:3,title:"Review",hint:"Confirm and submit request"}];function me(){const m=new Date;return new Date(m.getTime()-m.getTimezoneOffset()*6e4).toISOString().slice(0,10)}function Ue(m){const e=ue.c(98),{packages:i,customerToken:J,customerPrefill:re,business:K}=m,{flash:o}=pe().props,[n,c]=ie.useState(1),[R,r]=ie.useState(null),Q=re.name??"",Y=re.phone??"";let u;e[0]!==i[0]?(u=i[0]?[i[0].id]:[],e[0]=i[0],e[1]=u):u=e[1];let T;e[2]===Symbol.for("react.memo_cache_sentinel")?(T=me(),e[2]=T):T=e[2];let X;e[3]!==J||e[4]!==Q||e[5]!==Y||e[6]!==u?(X={customer_token:J,name:Q,phone:Y,package_ids:u,event_date:T,guest_count:1,venue:"",special_instructions:""},e[3]=J,e[4]=Q,e[5]=Y,e[6]=u,e[7]=X):X=e[7];const s=ge(X);let q;if(e[8]!==s.data.package_ids||e[9]!==i){let a;e[11]!==s.data.package_ids?(a=l=>s.data.package_ids.includes(l.id),e[11]=s.data.package_ids,e[12]=a):a=e[12],q=i.filter(a),e[8]=s.data.package_ids,e[9]=i,e[10]=q}else q=e[10];const Z=q;let A;e[13]!==s?(A=a=>{r(null);const ne=s.data.package_ids.includes(a)?s.data.package_ids.filter(xe=>xe!==a):[...s.data.package_ids,a];s.setData("package_ids",ne)},e[13]=s,e[14]=A):A=e[14];const ee=A;let B;e[15]!==s.data.package_ids.length?(B=()=>s.data.package_ids.length===0?(r("Select at least one catering package before continuing."),!1):!0,e[15]=s.data.package_ids.length,e[16]=B):B=e[16];const d=B;let M;e[17]!==s.data.event_date||e[18]!==s.data.guest_count||e[19]!==s.data.name||e[20]!==s.data.phone?(M=()=>s.data.event_date.trim()===""?(r("Enter the event date before continuing."),!1):typeof s.data.guest_count!="number"||s.data.guest_count<1?(r("Guest count must be at least 1."),!1):s.data.name.trim()===""||s.data.phone.trim()===""?(r("Enter your full name and phone number before continuing."),!1):!0,e[17]=s.data.event_date,e[18]=s.data.guest_count,e[19]=s.data.name,e[20]=s.data.phone,e[21]=M):M=e[21];const p=M;let U;e[22]!==d?(U=()=>{if(!d()){c(1);return}r(null),c(2)},e[22]=d,e[23]=U):U=e[23];const te=U;let G;e[24]!==d||e[25]!==p?(G=()=>{if(!d()){c(1);return}if(!p()){c(2);return}r(null),c(3)},e[24]=d,e[25]=p,e[26]=G):G=e[26];const se=G;let L;e[27]!==s||e[28]!==d||e[29]!==p?(L=a=>{if(a.preventDefault(),!d()){c(1);return}if(!p()){c(2);return}r(null),s.post("/catering/requests",{preserveScroll:!0,onSuccess:()=>{c(1),r(null),s.reset("special_instructions","venue")}})},e[27]=s,e[28]=d,e[29]=p,e[30]=L):L=e[30];const ae=L;let O;e[31]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(he,{title:"Catering Services"}),e[31]=O):O=e[31];let $;e[32]===Symbol.for("react.memo_cache_sentinel")?($=t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-[#F57C00]",children:"Special Services"}),t.jsx("h1",{className:"mt-2 text-3xl font-black tracking-tight",children:"Catering Request Wizard"}),t.jsx("p",{className:"mt-2 max-w-2xl text-sm text-zinc-600",children:"Follow the steps to select packages, enter event/contact details, and submit your request."})]}),e[32]=$):$=e[32];let H;e[33]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx(D,{asChild:!0,variant:"outline",className:"rounded-xl border-zinc-200",children:t.jsx(le,{href:"/",children:"Main Menu"})}),e[33]=H):H=e[33];let V;e[34]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx("header",{className:"rounded-3xl bg-white p-6 shadow-sm ring-1 ring-zinc-200 md:p-8",children:t.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[$,t.jsxs("div",{className:"flex gap-2",children:[H,t.jsx(D,{asChild:!0,className:"rounded-xl bg-[#212121] text-white hover:bg-black",children:t.jsx(le,{href:"/cakes",children:"Cake Preorders"})})]})]})}),e[34]=V):V=e[34];let g;e[35]!==o?(g=o?.success&&t.jsx("div",{className:"rounded-2xl border border-emerald-200 bg-emerald-50 px-4 py-3 text-sm font-semibold text-emerald-700",children:o.success}),e[35]=o,e[36]=g):g=e[36];let h;e[37]!==o?(h=o?.error&&t.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm font-semibold text-red-700",children:o.error}),e[37]=o,e[38]=h):h=e[38];let f;e[39]!==n?(f=we.map(a=>{const l=a.id===n,ne=a.id<n;return t.jsxs("article",{className:`rounded-2xl border px-4 py-3 ${l?"border-[#F57C00] bg-[#FFF3E0]":ne?"border-emerald-200 bg-emerald-50":"border-zinc-200 bg-zinc-50"}`,children:[t.jsxs("p",{className:"text-[11px] font-black uppercase tracking-widest text-zinc-500",children:["Step ",a.id]}),t.jsx("p",{className:"mt-1 text-sm font-black text-zinc-900",children:a.title})]},a.id)}),e[39]=n,e[40]=f):f=e[40];let b;e[41]!==f?(b=t.jsx("section",{className:"grid gap-2 md:grid-cols-3",children:f}),e[41]=f,e[42]=b):b=e[42];let j;e[43]!==s.data.package_ids||e[44]!==s.errors||e[45]!==i||e[46]!==n||e[47]!==ee?(j=n===1&&t.jsxs("section",{className:"space-y-5",children:[t.jsxs("h2",{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest text-zinc-500",children:[t.jsx(de,{className:"size-4 text-[#F57C00]"}),"Step 1: Select Packages"]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-black uppercase tracking-widest text-zinc-500",children:"Packages"}),t.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[i.length===0&&t.jsx("p",{className:"sm:col-span-2 rounded-2xl border border-dashed border-zinc-300 bg-zinc-50 px-4 py-6 text-center text-sm text-zinc-500",children:"No catering packages are available right now."}),i.map(a=>{const l=s.data.package_ids.includes(a.id);return t.jsxs("button",{type:"button",onClick:()=>ee(a.id),className:`overflow-hidden rounded-2xl border text-left transition ${l?"border-[#F57C00] ring-2 ring-[#F57C00]/20":"border-zinc-200 hover:border-zinc-300"}`,children:[t.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden bg-zinc-100",children:[a.image_url?t.jsx("img",{src:a.image_url,alt:a.name,className:"h-full w-full object-cover",loading:"lazy"}):t.jsx("div",{className:"flex h-full w-full items-center justify-center text-zinc-400",children:t.jsx(je,{className:"size-8"})}),l&&t.jsxs("span",{className:"absolute right-2 top-2 inline-flex items-center gap-1 rounded-full bg-emerald-600 px-2 py-1 text-[11px] font-black text-white",children:[t.jsx(Ne,{className:"size-3"}),"Selected"]})]}),t.jsxs("div",{className:"p-3",children:[t.jsx("p",{className:"text-sm font-black text-zinc-900",children:a.name}),t.jsx("p",{className:"mt-1 line-clamp-2 text-xs text-zinc-600",children:a.description??"Full-service catering package for your event."})]})]},a.id)})]}),t.jsx(x,{message:s.errors.package_ids})]})]}),e[43]=s.data.package_ids,e[44]=s.errors,e[45]=i,e[46]=n,e[47]=ee,e[48]=j):j=e[48];let N;e[49]!==s||e[50]!==n?(N=n===2&&t.jsxs("section",{className:"space-y-5",children:[t.jsxs("h2",{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest text-zinc-500",children:[t.jsx(ce,{className:"size-4 text-[#F57C00]"}),"Step 2: Event, Contact, and Notes"]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 flex items-center gap-2 text-xs font-black uppercase tracking-widest text-zinc-500",htmlFor:"event_date",children:[t.jsx(ce,{className:"size-3.5"}),"Event Date"]}),t.jsx(I,{id:"event_date",type:"date",min:me(),value:s.data.event_date,onChange:a=>{r(null),s.setData("event_date",a.target.value)},className:"h-11 rounded-xl border-zinc-200"}),t.jsx(x,{message:s.errors.event_date})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 flex items-center gap-2 text-xs font-black uppercase tracking-widest text-zinc-500",htmlFor:"guest_count",children:[t.jsx(ve,{className:"size-3.5"}),"Number of Guests"]}),t.jsx(I,{id:"guest_count",type:"number",min:1,value:s.data.guest_count,onChange:a=>{const l=a.target.value;r(null),s.setData("guest_count",l===""?"":Number(l))},className:"h-11 rounded-xl border-zinc-200"}),t.jsx(x,{message:s.errors.guest_count})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 flex items-center gap-2 text-xs font-black uppercase tracking-widest text-zinc-500",htmlFor:"venue",children:[t.jsx(ke,{className:"size-3.5"}),"Venue"]}),t.jsx(I,{id:"venue",value:s.data.venue,onChange:a=>{r(null),s.setData("venue",a.target.value)},className:"h-11 rounded-xl border-zinc-200",placeholder:"Event venue/address"}),t.jsx(x,{message:s.errors.venue})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 flex items-center gap-2 text-xs font-black uppercase tracking-widest text-zinc-500",htmlFor:"name",children:[t.jsx(fe,{className:"size-3.5"}),"Full Name"]}),t.jsx(I,{id:"name",value:s.data.name,onChange:a=>{r(null),s.setData("name",a.target.value)},className:"h-11 rounded-xl border-zinc-200"}),t.jsx(x,{message:s.errors.name})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 flex items-center gap-2 text-xs font-black uppercase tracking-widest text-zinc-500",htmlFor:"phone",children:[t.jsx(ze,{className:"size-3.5"}),"Phone Number"]}),t.jsx(I,{id:"phone",value:s.data.phone,onChange:a=>{r(null),s.setData("phone",a.target.value)},className:"h-11 rounded-xl border-zinc-200",placeholder:"+2519XXXXXXXX"}),t.jsx(x,{message:s.errors.phone})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-xs font-black uppercase tracking-widest text-zinc-500",htmlFor:"special_instructions",children:"Special Instructions"}),t.jsx("textarea",{id:"special_instructions",rows:6,value:s.data.special_instructions,onChange:a=>{r(null),s.setData("special_instructions",a.target.value)},className:"w-full rounded-xl border border-zinc-200 px-3 py-2 text-sm focus:border-[#F57C00] focus:outline-none focus:ring-2 focus:ring-[#F57C00]/15",placeholder:"Cuisine preferences, setup requirements, service duration, and other details..."}),t.jsx(x,{message:s.errors.special_instructions})]})]}),e[49]=s,e[50]=n,e[51]=N):N=e[51];let v;e[52]!==s.data.event_date||e[53]!==s.data.guest_count||e[54]!==s.data.name||e[55]!==s.data.phone||e[56]!==s.data.special_instructions||e[57]!==s.data.venue||e[58]!==Z||e[59]!==n?(v=n===3&&t.jsxs("section",{className:"space-y-5",children:[t.jsxs("h2",{className:"flex items-center gap-2 text-sm font-black uppercase tracking-widest text-zinc-500",children:[t.jsx(de,{className:"size-4 text-[#F57C00]"}),"Step 3: Review and Submit"]}),t.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-zinc-50 p-4",children:[t.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-zinc-500",children:"Selected Packages"}),t.jsx("div",{className:"mt-3 space-y-2",children:Z.map(ye)})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("article",{className:"rounded-2xl border border-zinc-200 bg-zinc-50 p-4",children:[t.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-zinc-500",children:"Event"}),t.jsxs("p",{className:"mt-2 text-sm text-zinc-700",children:["Date: ",s.data.event_date||"N/A"]}),t.jsxs("p",{className:"text-sm text-zinc-700",children:["Guests: ",s.data.guest_count||"N/A"]}),t.jsxs("p",{className:"text-sm text-zinc-700",children:["Venue: ",s.data.venue.trim()!==""?s.data.venue:"Not specified"]})]}),t.jsxs("article",{className:"rounded-2xl border border-zinc-200 bg-zinc-50 p-4",children:[t.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-zinc-500",children:"Contact"}),t.jsx("p",{className:"mt-2 text-sm font-semibold text-zinc-800",children:s.data.name||"N/A"}),t.jsx("p",{className:"text-sm text-zinc-700",children:s.data.phone||"N/A"})]})]}),t.jsxs("div",{className:"rounded-2xl border border-zinc-200 bg-zinc-50 p-4 text-sm",children:[t.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-zinc-500",children:"Special Instructions"}),t.jsx("p",{className:"mt-2 text-zinc-700",children:s.data.special_instructions.trim()!==""?s.data.special_instructions:"No extra instructions."})]})]}),e[52]=s.data.event_date,e[53]=s.data.guest_count,e[54]=s.data.name,e[55]=s.data.phone,e[56]=s.data.special_instructions,e[57]=s.data.venue,e[58]=Z,e[59]=n,e[60]=v):v=e[60];let k;e[61]!==R?(k=R&&t.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm font-semibold text-red-700",children:R}),e[61]=R,e[62]=k):k=e[62];let z;e[63]!==n?(z=n>1&&t.jsxs(D,{type:"button",variant:"outline",className:"rounded-xl border-zinc-200",onClick:()=>{r(null),c(n===3?2:1)},children:[t.jsx(_e,{className:"mr-1 size-4"}),"Back"]}),e[63]=n,e[64]=z):z=e[64];let _;e[65]!==z?(_=t.jsx("div",{children:z}),e[65]=z,e[66]=_):_=e[66];let w;e[67]!==te||e[68]!==n?(w=n===1&&t.jsxs(D,{type:"button",className:"rounded-xl bg-[#212121] text-white hover:bg-black",onClick:te,children:["Next",t.jsx(oe,{className:"ml-1 size-4"})]}),e[67]=te,e[68]=n,e[69]=w):w=e[69];let y;e[70]!==se||e[71]!==n?(y=n===2&&t.jsxs(D,{type:"button",className:"rounded-xl bg-[#212121] text-white hover:bg-black",onClick:se,children:["Next",t.jsx(oe,{className:"ml-1 size-4"})]}),e[70]=se,e[71]=n,e[72]=y):y=e[72];let C;e[73]!==s.processing||e[74]!==n?(C=n===3&&t.jsx(D,{type:"submit",className:"rounded-xl bg-[#F57C00] text-white hover:bg-[#E65100]",disabled:s.processing,children:s.processing?"Submitting Request...":"Submit Catering Request"}),e[73]=s.processing,e[74]=n,e[75]=C):C=e[75];let S;e[76]!==w||e[77]!==y||e[78]!==C?(S=t.jsxs("div",{className:"ml-auto flex gap-2",children:[w,y,C]}),e[76]=w,e[77]=y,e[78]=C,e[79]=S):S=e[79];let F;e[80]!==_||e[81]!==S?(F=t.jsxs("section",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-zinc-200 pt-4",children:[_,S]}),e[80]=_,e[81]=S,e[82]=F):F=e[82];let E;e[83]!==ae||e[84]!==b||e[85]!==j||e[86]!==N||e[87]!==v||e[88]!==k||e[89]!==F?(E=t.jsxs("form",{className:"space-y-6 rounded-3xl bg-white p-6 shadow-sm ring-1 ring-zinc-200 md:p-8",onSubmit:ae,children:[b,j,N,v,k,F]}),e[83]=ae,e[84]=b,e[85]=j,e[86]=N,e[87]=v,e[88]=k,e[89]=F,e[90]=E):E=e[90];let P;e[91]!==K?(P=t.jsx(be,{business:K}),e[91]=K,e[92]=P):P=e[92];let W;return e[93]!==g||e[94]!==h||e[95]!==E||e[96]!==P?(W=t.jsxs(t.Fragment,{children:[O,t.jsx("div",{className:"min-h-screen bg-[#FAFAFA] px-4 py-8 text-[#212121] md:px-8 md:py-10",children:t.jsxs("div",{className:"mx-auto w-full max-w-5xl space-y-6",children:[V,g,h,E,P]})})]}),e[93]=g,e[94]=h,e[95]=E,e[96]=P,e[97]=W):W=e[97],W}function ye(m){return t.jsx("div",{className:"flex items-start justify-between gap-3 text-sm",children:t.jsx("span",{className:"font-semibold text-zinc-700",children:m.name})},m.id)}export{Ue as default};
